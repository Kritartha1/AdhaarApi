È~
gC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Controllers\AuthController.cs
	namespace 	
Adhaar
 
. 
API 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AuthController 
:  !
ControllerBase" 0
{ 
private 
readonly 
ILogger  
<  !
AuthController! /
>/ 0
logger1 7
;7 8
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
userManager3 >
;> ?
private 
readonly 
ITokenRepository )
tokenRepository* 9
;9 :
private 
readonly 
IMapper  
mapper! '
;' (
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
IUserRepository (
userRepository) 7
;7 8
private   
readonly   
string   
[    
]    !
exts  " &
;  & '
private!! 
const!! 
string!! 

folderName!! '
=!!( )
$str!!* 3
;!!3 4
public00 
AuthController00 
(00 
ILogger00 %
<00% &
AuthController00& 4
>004 5
logger006 <
,00< =
UserManager00> I
<00I J
IdentityUser00J V
>00V W
userManager00X c
,00c d
ITokenRepository00e u
tokenRepository	00v Ö
,
00Ö Ü
IMapper
00á é
mapper
00è ï
,
00ï ñ 
AdhaarApiDbContext
00ó ©
	dbContext
00™ ≥
,
00≥ ¥
IUserRepository
00µ ƒ
userRepository
00≈ ”
)
00” ‘
{11 	
this22 
.22 
logger22 
=22 
logger22  
;22  !
this33 
.33 
userManager33 
=33 
userManager33 *
;33* +
this44 
.44 
tokenRepository44  
=44! "
tokenRepository44# 2
;442 3
this55 
.55 
mapper55 
=55 
mapper55  
;55  !
this66 
.66 
	dbContext66 
=66 
	dbContext66 &
;66& '
this77 
.77 
userRepository77 
=77  !
userRepository77" 0
;770 1
exts88 
=88 
new88 
string88 
[88 
$num88 
]88  
{88! "
$str88# *
,88* +
$str88, 2
,882 3
$str884 :
}88; <
;88< =
};; 	
[>> 	
HttpPost>>	 
]>> 
[?? 	
Route??	 
(?? 
$str?? 
)?? 
]?? 
public@@ 
async@@ 
Task@@ 
<@@ 
IActionResult@@ '
>@@' (
Register@@) 1
(@@1 2
[@@2 3
FromBody@@3 ;
]@@; <"
RegisterUserRequestDto@@= S
registerRequestDto@@T f
)@@f g
{AA 	
varCC 
identityUserCC 
=CC 
newCC "
UserCC# '
{DD 
UserNameEE 
=EE 
registerRequestDtoEE -
.EE- .
UsernameEE. 6
,EE6 7
EmailFF 
=FF 
registerRequestDtoFF *
.FF* +
UsernameFF+ 3
}GG 
;GG 
varKK 
identityResultKK 
=KK  
awaitKK! &
userManagerKK' 2
.KK2 3
CreateAsyncKK3 >
(KK> ?
identityUserKK? K
,KKK L
registerRequestDtoKKM _
.KK_ `
PasswordKK` h
)KKh i
;KKi j
ifNN 
(NN 
identityResultNN 
.NN 
	SucceededNN (
)NN( )
{OO 
ifRR 
(RR 
registerRequestDtoRR &
.RR& '
RolesRR' ,
!=RR- /
nullRR0 4
&&RR5 7
registerRequestDtoRR8 J
.RRJ K
RolesRRK P
.RRP Q
AnyRRQ T
(RRT U
)RRU V
)RRV W
{SS 
identityResultTT "
=TT# $
awaitTT% *
userManagerTT+ 6
.TT6 7
AddToRolesAsyncTT7 F
(TTF G
identityUserTTG S
,TTS T
registerRequestDtoTTU g
.TTg h
RolesTTh m
)TTm n
;TTn o
ifUU 
(UU 
identityResultUU &
.UU& '
	SucceededUU' 0
)UU0 1
{VV 
varWW 
identity_userWW )
=WW* +
awaitWW, 1
userRepositoryWW2 @
.WW@ A
CreateAsyncWWA L
(WWL M
identityUserWWM Y
)WWY Z
;WWZ [
ifXX 
(XX 
identity_userXX )
==XX* ,
nullXX- 1
)XX1 2
{YY 
await[[ !
userManager[[" -
.[[- .
DeleteAsync[[. 9
([[9 :
identityUser[[: F
)[[F G
;[[G H
return]] "

BadRequest]]# -
(]]- .
$str]]. K
)]]K L
;]]L M
}^^ 
var`` 
userDTO`` #
=``$ %
mapper``& ,
.``, -
Map``- 0
<``0 1
UserDto``1 8
>``8 9
(``9 :
identity_user``: G
)``G H
;``H I
returnaa 
CreatedAtActionaa .
(aa. /
nameofaa/ 5
(aa5 6
GetByIdaa6 =
)aa= >
,aa> ?
newaa@ C
{aaD E
idaaF H
=aaI J
userDTOaaK R
.aaR S
IdaaS U
}aaV W
,aaW X
userDTOaaY `
)aa` a
;aaa b
}dd 
}ee 
}ff 
awaithh 
userRepositoryhh  
.hh  !
DeleteAsynchh! ,
(hh, -
identityUserhh- 9
.hh9 :
Idhh: <
)hh< =
;hh= >
awaitii 
userManagerii 
.ii 
DeleteAsyncii )
(ii) *
identityUserii* 6
)ii6 7
;ii7 8
returnkk 

BadRequestkk 
(kk 
$strkk ;
)kk; <
;kk< =
}mm 	
[rr 	
HttpPostrr	 
]rr 
[ss 	
Routess	 
(ss 
$strss 
)ss 
]ss 
publicuu 
asyncuu 
Taskuu 
<uu 
IActionResultuu '
>uu' (
Loginuu) .
(uu. /
[uu/ 0
FromBodyuu0 8
]uu8 9
LoginRequestDtouu: I
loginRequestDtouuJ Y
)uuY Z
{vv 	
varww 
userww 
=ww 
awaitww 
userManagerww (
.ww( )
FindByEmailAsyncww) 9
(ww9 :
loginRequestDtoww: I
.wwI J
UsernamewwJ R
)wwR S
;wwS T
ifxx 
(xx 
userxx 
!=xx 
nullxx 
)xx 
{yy 
varzz 
checkPasswordResultzz '
=zz( )
awaitzz* /
userManagerzz0 ;
.zz; <
CheckPasswordAsynczz< N
(zzN O
userzzO S
,zzS T
loginRequestDtozzU d
.zzd e
Passwordzze m
)zzm n
;zzn o
if{{ 
({{ 
checkPasswordResult{{ '
){{' (
{|| 
var~~ 
roles~~ 
=~~ 
await~~  %
userManager~~& 1
.~~1 2
GetRolesAsync~~2 ?
(~~? @
user~~@ D
)~~D E
;~~E F
if 
( 
roles 
!=  
null! %
)% &
{
ÄÄ 
var
ÅÅ 
jwtToken
ÅÅ $
=
ÅÅ% &
tokenRepository
ÅÅ' 6
.
ÅÅ6 7
CreateJWTToken
ÅÅ7 E
(
ÅÅE F
user
ÅÅF J
,
ÅÅJ K
roles
ÅÅL Q
.
ÅÅQ R
ToList
ÅÅR X
(
ÅÅX Y
)
ÅÅY Z
)
ÅÅZ [
;
ÅÅ[ \
var
ÑÑ 
response
ÑÑ $
=
ÑÑ% &
new
ÑÑ' *
LoginResponseDto
ÑÑ+ ;
{
ÖÖ 
Email
ÜÜ !
=
ÜÜ" #
loginRequestDto
ÜÜ$ 3
.
ÜÜ3 4
Username
ÜÜ4 <
,
ÜÜ< =
Roles
áá !
=
áá" #
roles
áá$ )
.
áá) *
ToList
áá* 0
(
áá0 1
)
áá1 2
,
áá2 3
JwtToken
àà $
=
àà% &
jwtToken
àà' /
,
àà/ 0
Id
ââ 
=
ââ  
user
ââ! %
.
ââ% &
Id
ââ& (
}
ää 
;
ää 
return
ãã 
Ok
ãã !
(
ãã! "
response
ãã" *
)
ãã* +
;
ãã+ ,
}
çç 
return
èè 

BadRequest
èè %
(
èè% &
$str
èè& :
)
èè: ;
;
èè; <
}
êê 
return
ëë 

BadRequest
ëë !
(
ëë! "
$str
ëë" 3
)
ëë3 4
;
ëë4 5
}
íí 
return
ìì 

BadRequest
ìì 
(
ìì 
$str
ìì :
)
ìì: ;
;
ìì; <
}
îî 	
[
óó 	%
ExcludeFromCodeCoverage
óó	  
]
óó  !
[
òò 	
HttpPost
òò	 
]
òò 
[
ôô 	
Route
ôô	 
(
ôô 
$str
ôô 
)
ôô 
]
ôô 
public
öö 
async
öö 
Task
öö 
<
öö 
IActionResult
öö '
>
öö' (
DoOCR
öö) .
(
öö. /
[
öö/ 0
	FromRoute
öö0 9
]
öö9 :
string
öö; A
id
ööB D
,
ööD E
[
ööE F
FromForm
ööF N
]
ööN O
ImageAd
ööP W
request
ööX _
)
öö_ `
{
õõ 	
try
ùù 
{
ûû 
if
†† 
(
†† 
request
†† 
?
†† 
.
†† 
File
†† !
==
††" $
null
††% )
||
††* ,
request
††- 4
.
††4 5
File
††5 9
.
††9 :
Length
††: @
==
††A C
$num
††D E
)
††E F
{
°° 
return
¢¢ 

BadRequest
¢¢ %
(
¢¢% &
$str
¢¢& 9
)
¢¢9 :
;
¢¢: ;
}
££ 
string
•• 
fileName
•• 
=
••  !
request
••" )
.
••) *
File
••* .
.
••. /
FileName
••/ 7
;
••7 8
string
¶¶ 
filePath
¶¶ 
=
¶¶  !
Path
¶¶" &
.
¶¶& '
Combine
¶¶' .
(
¶¶. /

folderName
¶¶/ 9
,
¶¶9 :
fileName
¶¶; C
)
¶¶C D
;
¶¶D E
string
ßß 
ext
ßß 
=
ßß 
Path
ßß  
.
ßß  !
GetExtension
ßß! -
(
ßß- .
filePath
ßß. 6
)
ßß6 7
;
ßß7 8
if
®® 
(
®® 
!
®® 
exts
®® 
.
®® 
Contains
®® "
(
®®" #
ext
®®# &
)
®®& '
)
®®' (
{
©© 
return
™™ 

BadRequest
™™ %
(
™™% &
$str
™™& @
)
™™@ A
;
™™A B
}
´´ 
using
∞∞ 
(
∞∞ 
var
∞∞ 

fileStream
∞∞ %
=
∞∞& '
new
∞∞( +

FileStream
∞∞, 6
(
∞∞6 7
filePath
∞∞7 ?
,
∞∞? @
FileMode
∞∞A I
.
∞∞I J
Create
∞∞J P
)
∞∞P Q
)
∞∞Q R
{
±± 
await
≤≤ 
request
≤≤ !
.
≤≤! "
File
≤≤" &
.
≤≤& '
CopyToAsync
≤≤' 2
(
≤≤2 3

fileStream
≤≤3 =
)
≤≤= >
;
≤≤> ?
}
≥≥ 
bool
∂∂ 
isValidLicense
∂∂ #
=
∂∂$ %
License
∂∂& -
.
∂∂- .
IsValidLicense
∂∂. <
(
∂∂< =
$str∂∂= ã
)∂∂ã å
;∂∂å ç
if
∏∏ 
(
∏∏ 
!
∏∏ 
isValidLicense
∏∏ #
)
∏∏# $
{
ππ 
return
∫∫ 

BadRequest
∫∫ %
(
∫∫% &
$str
∫∫& 8
)
∫∫8 9
;
∫∫9 :
}
ªª 
var
ææ 
ocr
ææ 
=
ææ 
new
ææ 
IronTesseract
ææ +
(
ææ+ ,
)
ææ, -
;
ææ- .
using
¡¡ 
(
¡¡ 
var
¡¡ 
ocrInput
¡¡ #
=
¡¡$ %
new
¡¡& )
OcrInput
¡¡* 2
(
¡¡2 3
)
¡¡3 4
)
¡¡4 5
{
¬¬ 
ocrInput
√√ 
.
√√ 
AddImage
√√ %
(
√√% &
filePath
√√& .
)
√√. /
;
√√/ 0
ocrInput
ƒƒ 
.
ƒƒ 
EnhanceResolution
ƒƒ .
(
ƒƒ. /
)
ƒƒ/ 0
;
ƒƒ0 1
ocrInput
≈≈ 
.
≈≈ 
DeNoise
≈≈ $
(
≈≈$ %
)
≈≈% &
;
≈≈& '
var
«« 
	ocrResult
«« !
=
««" #
ocr
««$ '
.
««' (
Read
««( ,
(
««, -
ocrInput
««- 5
)
««5 6
;
««6 7
return
ÀÀ 
Ok
ÀÀ 
(
ÀÀ 
	ocrResult
ÀÀ '
.
ÀÀ' (
Text
ÀÀ( ,
)
ÀÀ, -
;
ÀÀ- .
}
ÃÃ 
}
ÕÕ 
catch
ŒŒ 
(
ŒŒ 
	Exception
ŒŒ 
ex
ŒŒ 
)
ŒŒ  
{
œœ 
return
—— 

StatusCode
—— !
(
——! "
$num
——" %
,
——% &
$"
——' )
$str
——) @
{
——@ A
ex
——A C
.
——C D
Message
——D K
}
——K L
"
——L M
)
——M N
;
——N O
}
““ 
}
”” 	
[
÷÷ 	
HttpGet
÷÷	 
]
÷÷ 
[
◊◊ 	
Route
◊◊	 
(
◊◊ 
$str
◊◊ 
)
◊◊ 
]
◊◊ 
public
ŸŸ 
async
ŸŸ 
Task
ŸŸ 
<
ŸŸ 
IActionResult
ŸŸ '
>
ŸŸ' (
GetById
ŸŸ) 0
(
ŸŸ0 1
[
ŸŸ1 2
	FromRoute
ŸŸ2 ;
]
ŸŸ; <
string
ŸŸ= C
id
ŸŸD F
)
ŸŸF G
{
⁄⁄ 	
var
‹‹ 

userDomain
‹‹ 
=
‹‹ 
await
‹‹ "
userRepository
‹‹# 1
.
‹‹1 2
GetByIdAsync
‹‹2 >
(
‹‹> ?
id
‹‹? A
)
‹‹A B
;
‹‹B C
if
ﬁﬁ 
(
ﬁﬁ 

userDomain
ﬁﬁ 
==
ﬁﬁ 
null
ﬁﬁ "
)
ﬁﬁ" #
{
ﬂﬂ 
return
‡‡ 
NotFound
‡‡ 
(
‡‡  
)
‡‡  !
;
‡‡! "
}
·· 
var
„„ 
userDto
„„ 
=
„„ 
mapper
„„  
.
„„  !
Map
„„! $
<
„„$ %
UserDto
„„% ,
>
„„, -
(
„„- .

userDomain
„„. 8
)
„„8 9
;
„„9 :
return
ÊÊ 
Ok
ÊÊ 
(
ÊÊ 
userDto
ÊÊ 
)
ÊÊ  
;
ÊÊ  !
}
ÈÈ 	
[
ÎÎ 	
	NonAction
ÎÎ	 
]
ÎÎ 
public
ÌÌ 
void
ÌÌ 
SetFileSystem
ÌÌ !
(
ÌÌ! "
System
ÌÌ" (
.
ÌÌ( )
IO
ÌÌ) +
.
ÌÌ+ ,
Abstractions
ÌÌ, 8
.
ÌÌ8 9
IFileSystem
ÌÌ9 D
@object
ÌÌE L
)
ÌÌL M
{
ÓÓ 	
throw
ÔÔ 
new
ÔÔ %
NotImplementedException
ÔÔ -
(
ÔÔ- .
)
ÔÔ. /
;
ÔÔ/ 0
}
 	
}
ÒÒ 
}ÚÚ πe
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Controllers\ImageController.cs
	namespace 	
Adhaar
 
. 
API 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ImageController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IMapper  
mapper! '
;' (
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
IUserRepository (
userRepository) 7
;7 8
private 
readonly 
IImageRepository )
imageRepository* 9
;9 :
private 
readonly 
ILogger  
<  !
ImageController! 0
>0 1
logger12 9
;9 :
public 
ImageController 
( 
IMapper &
mapper' -
,- .
AdhaarApiDbContext/ A
	dbContextB K
,K L
IUserRepositoryM \
userRepository] k
,k l
IImageRepositoryl |
imageRepository	} å
,
å ç
ILogger
ç î
<
î ï
ImageController
ï §
>
§ •
logger1
¶ ≠
)
≠ Æ
{ 	
this 
. 
mapper 
= 
mapper  
;  !
this 
. 
	dbContext 
= 
	dbContext &
;& '
this   
.   
userRepository   
=    !
userRepository  " 0
;  0 1
this!! 
.!! 
imageRepository!!  
=!!! "
imageRepository!!# 2
;!!2 3
this"" 
."" 
logger1"" 
="" 
logger1"" "
;""" #
}## 	
[%% 	
HttpGet%%	 
]%% 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
GetAll(() /
(((/ 0
)((0 1
{)) 	
logger1** 
.** 
LogInformation** "
(**" #
$str**# K
)**K L
;**L M
var,, 
imagesDomain,, 
=,, 
await,, $
imageRepository,,% 4
.,,4 5
GetAllAsync,,5 @
(,,@ A
),,A B
;,,B C
if-- 
(-- 
imagesDomain-- 
==-- 
null--  $
)--$ %
{.. 
return// 
NotFound// 
(//  
$str//  0
)//0 1
;//1 2
}00 
logger144 
.44 
LogInformation44 "
(44" #
$"44# %
$str44% L
{44L M
JsonSerializer44M [
.44[ \
	Serialize44\ e
(44e f
imagesDomain44f r
)44r s
}44s t
"44t u
)44u v
;44v w
var66 
	imagesDto66 
=66 
mapper66 "
.66" #
Map66# &
<66& '
List66' +
<66+ ,
ImageDto66, 4
>664 5
>665 6
(666 7
imagesDomain667 C
)66C D
;66D E
return88 
Ok88 
(88 
	imagesDto88 
)88  
;88  !
}:: 	
[?? 	
HttpGet??	 
]?? 
[@@ 	
Route@@	 
(@@ 
$str@@ 
)@@ 
]@@ 
publicBB 
asyncBB 
TaskBB 
<BB 
IActionResultBB '
>BB' (
GetByIdBB) 0
(BB0 1
[BB1 2
	FromRouteBB2 ;
]BB; <
stringBB= C
idBBD F
)BBF G
{CC 	
varDD 

userDomainDD 
=DD 
awaitDD  
userRepositoryDD! /
.DD/ 0
GetByIdAsyncDD0 <
(DD< =
idDD= ?
)DD? @
;DD@ A
ifEE 
(EE 

userDomainEE 
==EE 
nullEE !
)EE! "
{FF 
returnGG 
NotFoundGG 
(GG  
$strGG  0
)GG0 1
;GG1 2
}HH 
varLL 
imageDomainLL 
=LL 

userDomainLL (
.LL( )
ImageLL) .
;LL. /
ifMM 
(MM 
imageDomainMM 
==MM 
nullMM #
)MM# $
{NN 
returnOO 
NotFoundOO 
(OO  
$strOO  .
)OO. /
;OO/ 0
}PP 
varQQ 
imageDtoQQ 
=QQ 
mapperQQ !
.QQ! "
MapQQ" %
<QQ% &
ImageDtoQQ& .
>QQ. /
(QQ/ 0
imageDomainQQ0 ;
)QQ; <
;QQ< =
returnTT 
OkTT 
(TT 
imageDtoTT 
)TT 
;TT  
}VV 	
[[[ 	
HttpPost[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\ 
public__ 
async__ 
Task__ 
<__ 
IActionResult__ '
>__' (
Create__) /
(__/ 0
[__0 1
	FromRoute__1 :
]__: ;
string__< B
id__C E
,__E F
[__F G
FromForm__G O
]__O P
AddImageRequestDto__Q c
addImageRequestDto__d v
)__v w
{`` 	
varbb 
imageDomainModelbb  
=bb! "
mapperbb# )
.bb) *
Mapbb* -
<bb- .
ImageAdbb. 5
>bb5 6
(bb6 7
addImageRequestDtobb7 I
)bbI J
;bbJ K
imageDomainModeldd 
=dd 
awaitdd $
imageRepositorydd% 4
.dd4 5
CreateAsyncdd5 @
(dd@ A
imageDomainModelddA Q
)ddQ R
;ddR S
ifhh 
(hh 
imageDomainModelhh 
==hh  "
nullhh# '
)hh' (
{ii 
returnjj 

BadRequestjj !
(jj! "
$strjj" H
)jjH I
;jjI J
}kk 
logger1mm 
.mm 
LogInformationmm "
(mm" #
$"mm# %
$strmm% 6
{mm6 7
imageDomainModelmm7 G
.mmG H
IdmmH J
}mmJ K
"mmK L
)mmL M
;mmM N
varoo 
useroo 
=oo 
userRepositoryoo %
.oo% &
GetByIdAsyncoo& 2
(oo2 3
idoo3 5
)oo5 6
;oo6 7
ifpp 
(pp 
userpp 
==pp 
nullpp 
)pp 
{qq 
awaitrr 
imageRepositoryrr %
.rr% &
DeleteAsyncrr& 1
(rr1 2
imageDomainModelrr2 B
.rrB C
IdrrC E
)rrE F
;rrF G
returnss 

BadRequestss !
(ss! "
$strss" 1
)ss1 2
;ss2 3
}tt 
stringvv 
?vv 
textvv 
=vv 
awaitvv  
imageRepositoryvv! 0
.vv0 1
OCRvv1 4
(vv4 5
imageDomainModelvv5 E
)vvE F
;vvF G
ifxx 
(xx 
textxx 
==xx 
nullxx 
)xx 
{yy 
awaitzz 
imageRepositoryzz %
.zz% &
DeleteAsynczz& 1
(zz1 2
imageDomainModelzz2 B
.zzB C
IdzzC E
)zzE F
;zzF G
return{{ 

BadRequest{{ !
({{! "
$str{{" U
){{U V
;{{V W
}}} 
text~~ 
=~~ 
text~~ 
.~~ 
ToLower~~ 
(~~  
)~~  !
;~~! "
string
ÅÅ 
[
ÅÅ 
]
ÅÅ 
result
ÅÅ 
=
ÅÅ 
Regex
ÅÅ #
.
ÅÅ# $
Split
ÅÅ$ )
(
ÅÅ) *
text
ÅÅ* .
,
ÅÅ. /
$str
ÅÅ0 <
)
ÅÅ< =
;
ÅÅ= >
text
ÉÉ 
=
ÉÉ 
Regex
ÉÉ 
.
ÉÉ 
Replace
ÉÉ  
(
ÉÉ  !
text
ÉÉ! %
,
ÉÉ% &
$str
ÉÉ' -
,
ÉÉ- .
$str
ÉÉ/ 1
)
ÉÉ1 2
;
ÉÉ2 3
result
ÜÜ 
=
ÜÜ 
result
ÜÜ 
.
ÜÜ 
Where
ÜÜ !
(
ÜÜ! "
s
ÜÜ" #
=>
ÜÜ$ &
!
ÜÜ' (
string
ÜÜ( .
.
ÜÜ. / 
IsNullOrWhiteSpace
ÜÜ/ A
(
ÜÜA B
s
ÜÜB C
)
ÜÜC D
)
ÜÜD E
.
ÜÜE F
ToArray
ÜÜF M
(
ÜÜM N
)
ÜÜN O
;
ÜÜO P
foreach
ää 
(
ää 
string
ää 
word
ää  
in
ää! #
result
ää$ *
)
ää* +
{
ãã 
logger1
åå 
.
åå 
LogInformation
åå &
(
åå& '
word
åå' +
)
åå+ ,
;
åå, -
}
çç 
logger1
ëë 
.
ëë 
LogInformation
ëë "
(
ëë" #
text
ëë# '
)
ëë' (
;
ëë( )
if
°° 
(
°° 
result
°° 
.
°° 
Contains
°° 
(
°°  
imageDomainModel
°°  0
.
°°0 1
Address
°°1 8
.
°°8 9
ToLower
°°9 @
(
°°@ A
)
°°A B
)
°°B C
&&
¢¢ 
result
¢¢ 
.
¢¢ 
Contains
¢¢ "
(
¢¢" #
imageDomainModel
¢¢# 3
.
¢¢3 4
State
¢¢4 9
.
¢¢9 :
ToLower
¢¢: A
(
¢¢A B
)
¢¢B C
)
¢¢C D
&&
££ 
result
££ 
.
££ 
Contains
££ "
(
££" #
imageDomainModel
££# 3
.
££3 4
District
££4 <
.
££< =
ToLower
££= D
(
££D E
)
££E F
)
££F G
&&
¶¶ 
text
¶¶ 
.
¶¶ 
Contains
¶¶  
(
¶¶  !
imageDomainModel
¶¶! 1
.
¶¶1 2
UID
¶¶2 5
)
¶¶5 6
)
ßß 
{
®® 
var
©© 
userDomainModel
©© '
=
©©( )
await
©©* /
userRepository
©©0 >
.
©©> ?
UpdateAsync
©©? J
(
©©J K
id
©©K M
,
©©M N
new
™™ 
User
™™  
{
´´ 
Id
¨¨ 
=
¨¨  
id
¨¨! #
,
¨¨# $
ImageId
≠≠ #
=
≠≠$ %
imageDomainModel
≠≠& 6
.
≠≠6 7
Id
≠≠7 9
,
≠≠9 :
Image
ÆÆ !
=
ÆÆ" #
imageDomainModel
ÆÆ$ 4
}
∞∞ 
)
∞∞ 
;
∞∞ 
var
±± 
userDto
±± 
=
±± 
mapper
±± $
.
±±$ %
Map
±±% (
<
±±( )
UserDto
±±) 0
>
±±0 1
(
±±1 2
userDomainModel
±±2 A
)
±±A B
;
±±B C
return
≤≤ 
Ok
≤≤ 
(
≤≤ 
userDto
≤≤ !
)
≤≤! "
;
≤≤" #
}
≥≥ 
return
µµ 

BadRequest
µµ 
(
µµ 
$str
µµ 4
)
µµ4 5
;
µµ5 6
}
ææ 	
[
€€ 	

HttpDelete
€€	 
]
€€ 
[
‹‹ 	
Route
‹‹	 
(
‹‹ 
$str
‹‹ 
)
‹‹ 
]
‹‹ 
public
ﬂﬂ 
async
ﬂﬂ 
Task
ﬂﬂ 
<
ﬂﬂ 
IActionResult
ﬂﬂ '
>
ﬂﬂ' (
Delete
ﬂﬂ) /
(
ﬂﬂ/ 0
[
ﬂﬂ0 1
	FromRoute
ﬂﬂ1 :
]
ﬂﬂ: ;
Guid
ﬂﬂ< @
id
ﬂﬂA C
)
ﬂﬂC D
{
‡‡ 	
var
·· 
imageDomainModel
··  
=
··! "
await
··# (
imageRepository
··) 8
.
··8 9
DeleteAsync
··9 D
(
··D E
id
··E G
)
··G H
;
··H I
if
‚‚ 
(
‚‚ 
imageDomainModel
‚‚  
==
‚‚! #
null
‚‚$ (
)
‚‚( )
{
„„ 
return
‰‰ 
NotFound
‰‰ 
(
‰‰  
)
‰‰  !
;
‰‰! "
}
ÂÂ 
var
ÁÁ 
imageDto
ÁÁ 
=
ÁÁ 
mapper
ÁÁ !
.
ÁÁ! "
Map
ÁÁ" %
<
ÁÁ% &
ImageDto
ÁÁ& .
>
ÁÁ. /
(
ÁÁ/ 0
imageDomainModel
ÁÁ0 @
)
ÁÁ@ A
;
ÁÁA B
return
ÈÈ 
Ok
ÈÈ 
(
ÈÈ 
imageDto
ÈÈ 
)
ÈÈ 
;
ÈÈ  
}
ÍÍ 	
}
ÓÓ 
}ÛÛ ¬
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Data\AdhaarApiAuthDbContext.cs
	namespace 	
Adhaar
 
. 
API 
. 
Data 
{ 
public 

class "
AdhaarApiAuthDbContext '
:' (
IdentityDbContext( 9
{ 
public		 "
AdhaarApiAuthDbContext		 %
(		% &
DbContextOptions		& 6
<		6 7"
AdhaarApiAuthDbContext		7 M
>		M N
options		O V
)		V W
:		X Y
base		Z ^
(		^ _
options		_ f
)		f g
{

 	
} 	
	protected 
override 
void #
OnModelCreating$ 3
(3 4
ModelBuilder4 @
builderA H
)H I
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
var 

userRoleId 
= 
$str C
;C D
var 
adminRoleId 
= 
$str D
;D E
var 
roles 
= 
new 
List  
<  !
IdentityRole! -
>- .
{ 
new 
IdentityRole  
{ 
Id 
= 

userRoleId !
,! "
ConcurrencyStamp $
=$ %

userRoleId% /
,/ 0
Name 
= 
$str 
,  
NormalizedName "
=" #
$str# )
.) *
ToUpper* 1
(1 2
)2 3
} 
, 
new 
IdentityRole  
{ 
Id 
= 
adminRoleId "
," #
ConcurrencyStamp $
=% &
adminRoleId& 1
,1 2
Name   
=   
$str    
,    !
NormalizedName!! "
=!!" #
$str!!# *
.!!* +
ToUpper!!+ 2
(!!2 3
)!!3 4
}"" 
}## 
;## 
builder%% 
.%% 
Entity%% 
<%% 
IdentityRole%% '
>%%' (
(%%( )
)%%) *
.%%* +
HasData%%+ 2
(%%2 3
roles%%3 8
)%%8 9
;%%9 :
}'' 	
}(( 
})) î

dC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Data\AdhaarApiDbContext.cs
	namespace 	
Adhaar
 
. 
API 
. 
Data 
{ 
public 

class 
AdhaarApiDbContext #
:# $
	DbContext$ -
{ 
public 
AdhaarApiDbContext !
(! "
DbContextOptions" 2
<2 3
AdhaarApiDbContext3 E
>E F
dbContextOptionsG W
)W X
:X Y
baseY ]
(] ^
dbContextOptions^ n
)n o
{		 	
} 	
public 
AdhaarApiDbContext !
(! "
)" #
:$ %
base& *
(* +
)+ ,
{ 	
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
virtual 
DbSet 
< 
ImageAd $
>$ %
Images& ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} ◊	
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Mappings\AutoMapperprofiles.cs
	namespace 	
Adhaar
 
. 
API 
. 
Mappings 
{ 
[ #
ExcludeFromCodeCoverage 
] 
public		 

class		 
AutoMapperprofiles		 #
:		# $
Profile		$ +
{

 
public 
AutoMapperprofiles !
(! "
)" #
{$ %
	CreateMap 
< 
User 
, 
UserDto #
># $
($ %
)% &
.& '

ReverseMap' 1
(1 2
)2 3
;3 4
	CreateMap 
< 
ImageAd 
, 
ImageDto &
>& '
(' (
)( )
.) *

ReverseMap* 4
(4 5
)5 6
;6 7
	CreateMap 
< 
AddImageRequestDto (
,( )
ImageAd* 1
>1 2
(2 3
)3 4
.4 5

ReverseMap5 ?
(? @
)@ A
;A B
} 	
} 
} ◊W
xC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240116043457_Initial Migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
[

 #
ExcludeFromCodeCoverage

 
]

 
public 

partial 
class 
InitialMigration )
:* +
	Migration, 5
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Age 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 D
,D E
nullableF N
:N O
trueP T
)T U
,U V
Phone 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Locality 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
District 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
State 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
UID 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 D
,D E
nullableF N
:N O
falseP U
)U V
} 
, 
constraints 
: 
table "
=># %
{   
table!! 
.!! 

PrimaryKey!! $
(!!$ %
$str!!% 0
,!!0 1
x!!2 3
=>!!4 6
x!!7 8
.!!8 9
Id!!9 ;
)!!; <
;!!< =
}"" 
)"" 
;"" 
migrationBuilder$$ 
.$$ 
CreateTable$$ (
($$( )
name%% 
:%% 
$str%% 
,%% 
columns&& 
:&& 
table&& 
=>&& !
new&&" %
{'' 
Id(( 
=(( 
table(( 
.(( 
Column(( %
<((% &
string((& ,
>((, -
(((- .
type((. 2
:((2 3
$str((4 C
,((C D
nullable((E M
:((M N
false((O T
)((T U
,((U V
ImageId)) 
=)) 
table)) #
.))# $
Column))$ *
<))* +
Guid))+ /
>))/ 0
())0 1
type))1 5
:))5 6
$str))7 I
,))I J
nullable))K S
:))S T
true))U Y
)))Y Z
,))Z [
UserName** 
=** 
table** $
.**$ %
Column**% +
<**+ ,
string**, 2
>**2 3
(**3 4
type**4 8
:**8 9
$str**: I
,**I J
nullable**K S
:**S T
true**U Y
)**Y Z
,**Z [
NormalizedUserName++ &
=++' (
table++) .
.++. /
Column++/ 5
<++5 6
string++6 <
>++< =
(++= >
type++> B
:++B C
$str++D S
,++S T
nullable++U ]
:++] ^
true++_ c
)++c d
,++d e
Email,, 
=,, 
table,, !
.,,! "
Column,," (
<,,( )
string,,) /
>,,/ 0
(,,0 1
type,,1 5
:,,5 6
$str,,7 F
,,,F G
nullable,,H P
:,,P Q
true,,R V
),,V W
,,,W X
NormalizedEmail-- #
=--$ %
table--& +
.--+ ,
Column--, 2
<--2 3
string--3 9
>--9 :
(--: ;
type--; ?
:--? @
$str--A P
,--P Q
nullable--R Z
:--Z [
true--\ `
)--` a
,--a b
EmailConfirmed.. "
=..# $
table..% *
...* +
Column..+ 1
<..1 2
bool..2 6
>..6 7
(..7 8
type..8 <
:..< =
$str..> C
,..C D
nullable..E M
:..M N
false..O T
)..T U
,..U V
PasswordHash//  
=//! "
table//# (
.//( )
Column//) /
</// 0
string//0 6
>//6 7
(//7 8
type//8 <
://< =
$str//> M
,//M N
nullable//O W
://W X
true//Y ]
)//] ^
,//^ _
SecurityStamp00 !
=00" #
table00$ )
.00) *
Column00* 0
<000 1
string001 7
>007 8
(008 9
type009 =
:00= >
$str00? N
,00N O
nullable00P X
:00X Y
true00Z ^
)00^ _
,00_ `
ConcurrencyStamp11 $
=11% &
table11' ,
.11, -
Column11- 3
<113 4
string114 :
>11: ;
(11; <
type11< @
:11@ A
$str11B Q
,11Q R
nullable11S [
:11[ \
true11] a
)11a b
,11b c
PhoneNumber22 
=22  !
table22" '
.22' (
Column22( .
<22. /
string22/ 5
>225 6
(226 7
type227 ;
:22; <
$str22= L
,22L M
nullable22N V
:22V W
true22X \
)22\ ]
,22] ^ 
PhoneNumberConfirmed33 (
=33) *
table33+ 0
.330 1
Column331 7
<337 8
bool338 <
>33< =
(33= >
type33> B
:33B C
$str33D I
,33I J
nullable33K S
:33S T
false33U Z
)33Z [
,33[ \
TwoFactorEnabled44 $
=44% &
table44' ,
.44, -
Column44- 3
<443 4
bool444 8
>448 9
(449 :
type44: >
:44> ?
$str44@ E
,44E F
nullable44G O
:44O P
false44Q V
)44V W
,44W X

LockoutEnd55 
=55  
table55! &
.55& '
Column55' -
<55- .
DateTimeOffset55. <
>55< =
(55= >
type55> B
:55B C
$str55D T
,55T U
nullable55V ^
:55^ _
true55` d
)55d e
,55e f
LockoutEnabled66 "
=66# $
table66% *
.66* +
Column66+ 1
<661 2
bool662 6
>666 7
(667 8
type668 <
:66< =
$str66> C
,66C D
nullable66E M
:66M N
false66O T
)66T U
,66U V
AccessFailedCount77 %
=77& '
table77( -
.77- .
Column77. 4
<774 5
int775 8
>778 9
(779 :
type77: >
:77> ?
$str77@ E
,77E F
nullable77G O
:77O P
false77Q V
)77V W
}88 
,88 
constraints99 
:99 
table99 "
=>99# %
{:: 
table;; 
.;; 

PrimaryKey;; $
(;;$ %
$str;;% /
,;;/ 0
x;;1 2
=>;;3 5
x;;6 7
.;;7 8
Id;;8 :
);;: ;
;;;; <
table<< 
.<< 

ForeignKey<< $
(<<$ %
name== 
:== 
$str== 7
,==7 8
column>> 
:>> 
x>>  !
=>>>" $
x>>% &
.>>& '
ImageId>>' .
,>>. /
principalTable?? &
:??& '
$str??( 0
,??0 1
principalColumn@@ '
:@@' (
$str@@) -
)@@- .
;@@. /
}AA 
)AA 
;AA 
migrationBuilderCC 
.CC 
CreateIndexCC (
(CC( )
nameDD 
:DD 
$strDD (
,DD( )
tableEE 
:EE 
$strEE 
,EE 
columnFF 
:FF 
$strFF !
)FF! "
;FF" #
}GG 	
	protectedJJ 
overrideJJ 
voidJJ 
DownJJ  $
(JJ$ %
MigrationBuilderJJ% 5
migrationBuilderJJ6 F
)JJF G
{KK 	
migrationBuilderLL 
.LL 
	DropTableLL &
(LL& '
nameMM 
:MM 
$strMM 
)MM 
;MM 
migrationBuilderOO 
.OO 
	DropTableOO &
(OO& '
namePP 
:PP 
$strPP 
)PP 
;PP  
}QQ 	
}RR 
}SS ˛R
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240116045635_2nd Migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
public		 

partial		 
class		 
_2ndMigration		 &
:		' (
	Migration		) 2
{

 
[ 	#
ExcludeFromCodeCoverage	  
]  !
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str 
,  
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str 
,  
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name   
:   
$str   
,   
table!! 
:!! 
$str!! 
,!!  
type"" 
:"" 
$str"" %
,""% &
nullable## 
:## 
true## 
,## 

oldClrType$$ 
:$$ 
typeof$$ "
($$" #
string$$# )
)$$) *
,$$* +
oldType%% 
:%% 
$str%% (
)%%( )
;%%) *
migrationBuilder'' 
.'' 
AlterColumn'' (
<''( )
string'') /
>''/ 0
(''0 1
name(( 
:(( 
$str((  
,((  !
table)) 
:)) 
$str)) 
,))  
type** 
:** 
$str** %
,**% &
nullable++ 
:++ 
true++ 
,++ 

oldClrType,, 
:,, 
typeof,, "
(,," #
string,,# )
),,) *
,,,* +
oldType-- 
:-- 
$str-- (
)--( )
;--) *
migrationBuilder// 
.// 
AlterColumn// (
<//( )
string//) /
>/// 0
(//0 1
name00 
:00 
$str00 !
,00! "
table11 
:11 
$str11 
,11  
type22 
:22 
$str22 %
,22% &
nullable33 
:33 
true33 
,33 

oldClrType44 
:44 
typeof44 "
(44" #
string44# )
)44) *
,44* +
oldType55 
:55 
$str55 (
)55( )
;55) *
migrationBuilder77 
.77 
AlterColumn77 (
<77( )
int77) ,
>77, -
(77- .
name88 
:88 
$str88 
,88 
table99 
:99 
$str99 
,99  
type:: 
::: 
$str:: 
,:: 
nullable;; 
:;; 
true;; 
,;; 

oldClrType<< 
:<< 
typeof<< "
(<<" #
string<<# )
)<<) *
,<<* +
oldType== 
:== 
$str== (
,==( )
oldNullable>> 
:>> 
true>> !
)>>! "
;>>" #
migrationBuilder@@ 
.@@ 
AlterColumn@@ (
<@@( )
string@@) /
>@@/ 0
(@@0 1
nameAA 
:AA 
$strAA 
,AA  
tableBB 
:BB 
$strBB 
,BB  
typeCC 
:CC 
$strCC %
,CC% &
nullableDD 
:DD 
trueDD 
,DD 

oldClrTypeEE 
:EE 
typeofEE "
(EE" #
stringEE# )
)EE) *
,EE* +
oldTypeFF 
:FF 
$strFF (
)FF( )
;FF) *
}GG 	
	protectedJJ 
overrideJJ 
voidJJ 
DownJJ  $
(JJ$ %
MigrationBuilderJJ% 5
migrationBuilderJJ6 F
)JJF G
{KK 	
migrationBuilderLL 
.LL 
AlterColumnLL (
<LL( )
stringLL) /
>LL/ 0
(LL0 1
nameMM 
:MM 
$strMM 
,MM 
tableNN 
:NN 
$strNN 
,NN  
typeOO 
:OO 
$strOO %
,OO% &
nullablePP 
:PP 
falsePP 
,PP  
defaultValueQQ 
:QQ 
$strQQ  
,QQ  !

oldClrTypeRR 
:RR 
typeofRR "
(RR" #
stringRR# )
)RR) *
,RR* +
oldTypeSS 
:SS 
$strSS (
,SS( )
oldNullableTT 
:TT 
trueTT !
)TT! "
;TT" #
migrationBuilderVV 
.VV 
AlterColumnVV (
<VV( )
stringVV) /
>VV/ 0
(VV0 1
nameWW 
:WW 
$strWW 
,WW 
tableXX 
:XX 
$strXX 
,XX  
typeYY 
:YY 
$strYY %
,YY% &
nullableZZ 
:ZZ 
falseZZ 
,ZZ  
defaultValue[[ 
:[[ 
$str[[  
,[[  !

oldClrType\\ 
:\\ 
typeof\\ "
(\\" #
string\\# )
)\\) *
,\\* +
oldType]] 
:]] 
$str]] (
,]]( )
oldNullable^^ 
:^^ 
true^^ !
)^^! "
;^^" #
migrationBuilder`` 
.`` 
AlterColumn`` (
<``( )
string``) /
>``/ 0
(``0 1
nameaa 
:aa 
$straa 
,aa 
tablebb 
:bb 
$strbb 
,bb  
typecc 
:cc 
$strcc %
,cc% &
nullabledd 
:dd 
falsedd 
,dd  
defaultValueee 
:ee 
$stree  
,ee  !

oldClrTypeff 
:ff 
typeofff "
(ff" #
stringff# )
)ff) *
,ff* +
oldTypegg 
:gg 
$strgg (
,gg( )
oldNullablehh 
:hh 
truehh !
)hh! "
;hh" #
migrationBuilderjj 
.jj 
AlterColumnjj (
<jj( )
stringjj) /
>jj/ 0
(jj0 1
namekk 
:kk 
$strkk  
,kk  !
tablell 
:ll 
$strll 
,ll  
typemm 
:mm 
$strmm %
,mm% &
nullablenn 
:nn 
falsenn 
,nn  
defaultValueoo 
:oo 
$stroo  
,oo  !

oldClrTypepp 
:pp 
typeofpp "
(pp" #
stringpp# )
)pp) *
,pp* +
oldTypeqq 
:qq 
$strqq (
,qq( )
oldNullablerr 
:rr 
truerr !
)rr! "
;rr" #
migrationBuildertt 
.tt 
AlterColumntt (
<tt( )
stringtt) /
>tt/ 0
(tt0 1
nameuu 
:uu 
$struu !
,uu! "
tablevv 
:vv 
$strvv 
,vv  
typeww 
:ww 
$strww %
,ww% &
nullablexx 
:xx 
falsexx 
,xx  
defaultValueyy 
:yy 
$stryy  
,yy  !

oldClrTypezz 
:zz 
typeofzz "
(zz" #
stringzz# )
)zz) *
,zz* +
oldType{{ 
:{{ 
$str{{ (
,{{( )
oldNullable|| 
:|| 
true|| !
)||! "
;||" #
migrationBuilder~~ 
.~~ 
AlterColumn~~ (
<~~( )
string~~) /
>~~/ 0
(~~0 1
name 
: 
$str 
, 
table
ÄÄ 
:
ÄÄ 
$str
ÄÄ 
,
ÄÄ  
type
ÅÅ 
:
ÅÅ 
$str
ÅÅ %
,
ÅÅ% &
nullable
ÇÇ 
:
ÇÇ 
true
ÇÇ 
,
ÇÇ 

oldClrType
ÉÉ 
:
ÉÉ 
typeof
ÉÉ "
(
ÉÉ" #
int
ÉÉ# &
)
ÉÉ& '
,
ÉÉ' (
oldType
ÑÑ 
:
ÑÑ 
$str
ÑÑ 
,
ÑÑ 
oldNullable
ÖÖ 
:
ÖÖ 
true
ÖÖ !
)
ÖÖ! "
;
ÖÖ" #
migrationBuilder
áá 
.
áá 
AlterColumn
áá (
<
áá( )
string
áá) /
>
áá/ 0
(
áá0 1
name
àà 
:
àà 
$str
àà 
,
àà  
table
ââ 
:
ââ 
$str
ââ 
,
ââ  
type
ää 
:
ää 
$str
ää %
,
ää% &
nullable
ãã 
:
ãã 
false
ãã 
,
ãã  
defaultValue
åå 
:
åå 
$str
åå  
,
åå  !

oldClrType
çç 
:
çç 
typeof
çç "
(
çç" #
string
çç# )
)
çç) *
,
çç* +
oldType
éé 
:
éé 
$str
éé (
,
éé( )
oldNullable
èè 
:
èè 
true
èè !
)
èè! "
;
èè" #
}
êê 	
}
ëë 
}íí Ì
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240126081729_new migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
[		 #
ExcludeFromCodeCoverage		 
]		 
public

 

partial

 
class

 
newmigration

 %
:

& '
	Migration

( 1
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ≤œ
ÑC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\AdhaarApiAuthDb\20240116043547_2nd Migration.cs
	namespace		 	
Adhaar		
 
.		 
API		 
.		 

Migrations		 
.		  
AdhaarApiAuthDb		  /
{

 
[ #
ExcludeFromCodeCoverage 
] 
public 

partial 
class 
_2ndMigration &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! #
,!!# $
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
string$$& ,
>$$, -
($$- .
type$$. 2
:$$2 3
$str$$4 C
,$$C D
nullable$$E M
:$$M N
false$$O T
)$$T U
,$$U V
UserName%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
type%%4 8
:%%8 9
$str%%: I
,%%I J
	maxLength%%K T
:%%T U
$num%%V Y
,%%Y Z
nullable%%[ c
:%%c d
true%%e i
)%%i j
,%%j k
NormalizedUserName&& &
=&&' (
table&&) .
.&&. /
Column&&/ 5
<&&5 6
string&&6 <
>&&< =
(&&= >
type&&> B
:&&B C
$str&&D S
,&&S T
	maxLength&&U ^
:&&^ _
$num&&` c
,&&c d
nullable&&e m
:&&m n
true&&o s
)&&s t
,&&t u
Email'' 
='' 
table'' !
.''! "
Column''" (
<''( )
string'') /
>''/ 0
(''0 1
type''1 5
:''5 6
$str''7 F
,''F G
	maxLength''H Q
:''Q R
$num''S V
,''V W
nullable''X `
:''` a
true''b f
)''f g
,''g h
NormalizedEmail(( #
=(($ %
table((& +
.((+ ,
Column((, 2
<((2 3
string((3 9
>((9 :
(((: ;
type((; ?
:((? @
$str((A P
,((P Q
	maxLength((R [
:(([ \
$num((] `
,((` a
nullable((b j
:((j k
true((l p
)((p q
,((q r
EmailConfirmed)) "
=))# $
table))% *
.))* +
Column))+ 1
<))1 2
bool))2 6
>))6 7
())7 8
type))8 <
:))< =
$str))> C
,))C D
nullable))E M
:))M N
false))O T
)))T U
,))U V
PasswordHash**  
=**! "
table**# (
.**( )
Column**) /
<**/ 0
string**0 6
>**6 7
(**7 8
type**8 <
:**< =
$str**> M
,**M N
nullable**O W
:**W X
true**Y ]
)**] ^
,**^ _
SecurityStamp++ !
=++" #
table++$ )
.++) *
Column++* 0
<++0 1
string++1 7
>++7 8
(++8 9
type++9 =
:++= >
$str++? N
,++N O
nullable++P X
:++X Y
true++Z ^
)++^ _
,++_ `
ConcurrencyStamp,, $
=,,% &
table,,' ,
.,,, -
Column,,- 3
<,,3 4
string,,4 :
>,,: ;
(,,; <
type,,< @
:,,@ A
$str,,B Q
,,,Q R
nullable,,S [
:,,[ \
true,,] a
),,a b
,,,b c
PhoneNumber-- 
=--  !
table--" '
.--' (
Column--( .
<--. /
string--/ 5
>--5 6
(--6 7
type--7 ;
:--; <
$str--= L
,--L M
nullable--N V
:--V W
true--X \
)--\ ]
,--] ^ 
PhoneNumberConfirmed.. (
=..) *
table..+ 0
...0 1
Column..1 7
<..7 8
bool..8 <
>..< =
(..= >
type..> B
:..B C
$str..D I
,..I J
nullable..K S
:..S T
false..U Z
)..Z [
,..[ \
TwoFactorEnabled// $
=//% &
table//' ,
.//, -
Column//- 3
<//3 4
bool//4 8
>//8 9
(//9 :
type//: >
://> ?
$str//@ E
,//E F
nullable//G O
://O P
false//Q V
)//V W
,//W X

LockoutEnd00 
=00  
table00! &
.00& '
Column00' -
<00- .
DateTimeOffset00. <
>00< =
(00= >
type00> B
:00B C
$str00D T
,00T U
nullable00V ^
:00^ _
true00` d
)00d e
,00e f
LockoutEnabled11 "
=11# $
table11% *
.11* +
Column11+ 1
<111 2
bool112 6
>116 7
(117 8
type118 <
:11< =
$str11> C
,11C D
nullable11E M
:11M N
false11O T
)11T U
,11U V
AccessFailedCount22 %
=22& '
table22( -
.22- .
Column22. 4
<224 5
int225 8
>228 9
(229 :
type22: >
:22> ?
$str22@ E
,22E F
nullable22G O
:22O P
false22Q V
)22V W
}33 
,33 
constraints44 
:44 
table44 "
=>44# %
{55 
table66 
.66 

PrimaryKey66 $
(66$ %
$str66% 5
,665 6
x667 8
=>669 ;
x66< =
.66= >
Id66> @
)66@ A
;66A B
}77 
)77 
;77 
migrationBuilder99 
.99 
CreateTable99 (
(99( )
name:: 
::: 
$str:: (
,::( )
columns;; 
:;; 
table;; 
=>;; !
new;;" %
{<< 
Id== 
=== 
table== 
.== 
Column== %
<==% &
int==& )
>==) *
(==* +
type==+ /
:==/ 0
$str==1 6
,==6 7
nullable==8 @
:==@ A
false==B G
)==G H
.>> 

Annotation>> #
(>># $
$str>>$ 8
,>>8 9
$str>>: @
)>>@ A
,>>A B
RoleId?? 
=?? 
table?? "
.??" #
Column??# )
<??) *
string??* 0
>??0 1
(??1 2
type??2 6
:??6 7
$str??8 G
,??G H
nullable??I Q
:??Q R
false??S X
)??X Y
,??Y Z
	ClaimType@@ 
=@@ 
table@@  %
.@@% &
Column@@& ,
<@@, -
string@@- 3
>@@3 4
(@@4 5
type@@5 9
:@@9 :
$str@@; J
,@@J K
nullable@@L T
:@@T U
true@@V Z
)@@Z [
,@@[ \

ClaimValueAA 
=AA  
tableAA! &
.AA& '
ColumnAA' -
<AA- .
stringAA. 4
>AA4 5
(AA5 6
typeAA6 :
:AA: ;
$strAA< K
,AAK L
nullableAAM U
:AAU V
trueAAW [
)AA[ \
}BB 
,BB 
constraintsCC 
:CC 
tableCC "
=>CC# %
{DD 
tableEE 
.EE 

PrimaryKeyEE $
(EE$ %
$strEE% :
,EE: ;
xEE< =
=>EE> @
xEEA B
.EEB C
IdEEC E
)EEE F
;EEF G
tableFF 
.FF 

ForeignKeyFF $
(FF$ %
nameGG 
:GG 
$strGG F
,GGF G
columnHH 
:HH 
xHH  !
=>HH" $
xHH% &
.HH& '
RoleIdHH' -
,HH- .
principalTableII &
:II& '
$strII( 5
,II5 6
principalColumnJJ '
:JJ' (
$strJJ) -
,JJ- .
onDeleteKK  
:KK  !
ReferentialActionKK" 3
.KK3 4
CascadeKK4 ;
)KK; <
;KK< =
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateTableNN (
(NN( )
nameOO 
:OO 
$strOO (
,OO( )
columnsPP 
:PP 
tablePP 
=>PP !
newPP" %
{QQ 
IdRR 
=RR 
tableRR 
.RR 
ColumnRR %
<RR% &
intRR& )
>RR) *
(RR* +
typeRR+ /
:RR/ 0
$strRR1 6
,RR6 7
nullableRR8 @
:RR@ A
falseRRB G
)RRG H
.SS 

AnnotationSS #
(SS# $
$strSS$ 8
,SS8 9
$strSS: @
)SS@ A
,SSA B
UserIdTT 
=TT 
tableTT "
.TT" #
ColumnTT# )
<TT) *
stringTT* 0
>TT0 1
(TT1 2
typeTT2 6
:TT6 7
$strTT8 G
,TTG H
nullableTTI Q
:TTQ R
falseTTS X
)TTX Y
,TTY Z
	ClaimTypeUU 
=UU 
tableUU  %
.UU% &
ColumnUU& ,
<UU, -
stringUU- 3
>UU3 4
(UU4 5
typeUU5 9
:UU9 :
$strUU; J
,UUJ K
nullableUUL T
:UUT U
trueUUV Z
)UUZ [
,UU[ \

ClaimValueVV 
=VV  
tableVV! &
.VV& '
ColumnVV' -
<VV- .
stringVV. 4
>VV4 5
(VV5 6
typeVV6 :
:VV: ;
$strVV< K
,VVK L
nullableVVM U
:VVU V
trueVVW [
)VV[ \
}WW 
,WW 
constraintsXX 
:XX 
tableXX "
=>XX# %
{YY 
tableZZ 
.ZZ 

PrimaryKeyZZ $
(ZZ$ %
$strZZ% :
,ZZ: ;
xZZ< =
=>ZZ> @
xZZA B
.ZZB C
IdZZC E
)ZZE F
;ZZF G
table[[ 
.[[ 

ForeignKey[[ $
([[$ %
name\\ 
:\\ 
$str\\ F
,\\F G
column]] 
:]] 
x]]  !
=>]]" $
x]]% &
.]]& '
UserId]]' -
,]]- .
principalTable^^ &
:^^& '
$str^^( 5
,^^5 6
principalColumn__ '
:__' (
$str__) -
,__- .
onDelete``  
:``  !
ReferentialAction``" 3
.``3 4
Cascade``4 ;
)``; <
;``< =
}aa 
)aa 
;aa 
migrationBuildercc 
.cc 
CreateTablecc (
(cc( )
namedd 
:dd 
$strdd (
,dd( )
columnsee 
:ee 
tableee 
=>ee !
newee" %
{ff 
LoginProvidergg !
=gg" #
tablegg$ )
.gg) *
Columngg* 0
<gg0 1
stringgg1 7
>gg7 8
(gg8 9
typegg9 =
:gg= >
$strgg? N
,ggN O
nullableggP X
:ggX Y
falseggZ _
)gg_ `
,gg` a
ProviderKeyhh 
=hh  !
tablehh" '
.hh' (
Columnhh( .
<hh. /
stringhh/ 5
>hh5 6
(hh6 7
typehh7 ;
:hh; <
$strhh= L
,hhL M
nullablehhN V
:hhV W
falsehhX ]
)hh] ^
,hh^ _
ProviderDisplayNameii '
=ii( )
tableii* /
.ii/ 0
Columnii0 6
<ii6 7
stringii7 =
>ii= >
(ii> ?
typeii? C
:iiC D
$striiE T
,iiT U
nullableiiV ^
:ii^ _
trueii` d
)iid e
,iie f
UserIdjj 
=jj 
tablejj "
.jj" #
Columnjj# )
<jj) *
stringjj* 0
>jj0 1
(jj1 2
typejj2 6
:jj6 7
$strjj8 G
,jjG H
nullablejjI Q
:jjQ R
falsejjS X
)jjX Y
}kk 
,kk 
constraintsll 
:ll 
tablell "
=>ll# %
{mm 
tablenn 
.nn 

PrimaryKeynn $
(nn$ %
$strnn% :
,nn: ;
xnn< =
=>nn> @
newnnA D
{nnE F
xnnG H
.nnH I
LoginProvidernnI V
,nnV W
xnnX Y
.nnY Z
ProviderKeynnZ e
}nnf g
)nng h
;nnh i
tableoo 
.oo 

ForeignKeyoo $
(oo$ %
namepp 
:pp 
$strpp F
,ppF G
columnqq 
:qq 
xqq  !
=>qq" $
xqq% &
.qq& '
UserIdqq' -
,qq- .
principalTablerr &
:rr& '
$strrr( 5
,rr5 6
principalColumnss '
:ss' (
$strss) -
,ss- .
onDeletett  
:tt  !
ReferentialActiontt" 3
.tt3 4
Cascadett4 ;
)tt; <
;tt< =
}uu 
)uu 
;uu 
migrationBuilderww 
.ww 
CreateTableww (
(ww( )
namexx 
:xx 
$strxx '
,xx' (
columnsyy 
:yy 
tableyy 
=>yy !
newyy" %
{zz 
UserId{{ 
={{ 
table{{ "
.{{" #
Column{{# )
<{{) *
string{{* 0
>{{0 1
({{1 2
type{{2 6
:{{6 7
$str{{8 G
,{{G H
nullable{{I Q
:{{Q R
false{{S X
){{X Y
,{{Y Z
RoleId|| 
=|| 
table|| "
.||" #
Column||# )
<||) *
string||* 0
>||0 1
(||1 2
type||2 6
:||6 7
$str||8 G
,||G H
nullable||I Q
:||Q R
false||S X
)||X Y
}}} 
,}} 
constraints~~ 
:~~ 
table~~ "
=>~~# %
{ 
table
ÄÄ 
.
ÄÄ 

PrimaryKey
ÄÄ $
(
ÄÄ$ %
$str
ÄÄ% 9
,
ÄÄ9 :
x
ÄÄ; <
=>
ÄÄ= ?
new
ÄÄ@ C
{
ÄÄD E
x
ÄÄF G
.
ÄÄG H
UserId
ÄÄH N
,
ÄÄN O
x
ÄÄP Q
.
ÄÄQ R
RoleId
ÄÄR X
}
ÄÄY Z
)
ÄÄZ [
;
ÄÄ[ \
table
ÅÅ 
.
ÅÅ 

ForeignKey
ÅÅ $
(
ÅÅ$ %
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ E
,
ÇÇE F
column
ÉÉ 
:
ÉÉ 
x
ÉÉ  !
=>
ÉÉ" $
x
ÉÉ% &
.
ÉÉ& '
RoleId
ÉÉ' -
,
ÉÉ- .
principalTable
ÑÑ &
:
ÑÑ& '
$str
ÑÑ( 5
,
ÑÑ5 6
principalColumn
ÖÖ '
:
ÖÖ' (
$str
ÖÖ) -
,
ÖÖ- .
onDelete
ÜÜ  
:
ÜÜ  !
ReferentialAction
ÜÜ" 3
.
ÜÜ3 4
Cascade
ÜÜ4 ;
)
ÜÜ; <
;
ÜÜ< =
table
áá 
.
áá 

ForeignKey
áá $
(
áá$ %
name
àà 
:
àà 
$str
àà E
,
ààE F
column
ââ 
:
ââ 
x
ââ  !
=>
ââ" $
x
ââ% &
.
ââ& '
UserId
ââ' -
,
ââ- .
principalTable
ää &
:
ää& '
$str
ää( 5
,
ää5 6
principalColumn
ãã '
:
ãã' (
$str
ãã) -
,
ãã- .
onDelete
åå  
:
åå  !
ReferentialAction
åå" 3
.
åå3 4
Cascade
åå4 ;
)
åå; <
;
åå< =
}
çç 
)
çç 
;
çç 
migrationBuilder
èè 
.
èè 
CreateTable
èè (
(
èè( )
name
êê 
:
êê 
$str
êê (
,
êê( )
columns
ëë 
:
ëë 
table
ëë 
=>
ëë !
new
ëë" %
{
íí 
UserId
ìì 
=
ìì 
table
ìì "
.
ìì" #
Column
ìì# )
<
ìì) *
string
ìì* 0
>
ìì0 1
(
ìì1 2
type
ìì2 6
:
ìì6 7
$str
ìì8 G
,
ììG H
nullable
ììI Q
:
ììQ R
false
ììS X
)
ììX Y
,
ììY Z
LoginProvider
îî !
=
îî" #
table
îî$ )
.
îî) *
Column
îî* 0
<
îî0 1
string
îî1 7
>
îî7 8
(
îî8 9
type
îî9 =
:
îî= >
$str
îî? N
,
îîN O
nullable
îîP X
:
îîX Y
false
îîZ _
)
îî_ `
,
îî` a
Name
ïï 
=
ïï 
table
ïï  
.
ïï  !
Column
ïï! '
<
ïï' (
string
ïï( .
>
ïï. /
(
ïï/ 0
type
ïï0 4
:
ïï4 5
$str
ïï6 E
,
ïïE F
nullable
ïïG O
:
ïïO P
false
ïïQ V
)
ïïV W
,
ïïW X
Value
ññ 
=
ññ 
table
ññ !
.
ññ! "
Column
ññ" (
<
ññ( )
string
ññ) /
>
ññ/ 0
(
ññ0 1
type
ññ1 5
:
ññ5 6
$str
ññ7 F
,
ññF G
nullable
ññH P
:
ññP Q
true
ññR V
)
ññV W
}
óó 
,
óó 
constraints
òò 
:
òò 
table
òò "
=>
òò# %
{
ôô 
table
öö 
.
öö 

PrimaryKey
öö $
(
öö$ %
$str
öö% :
,
öö: ;
x
öö< =
=>
öö> @
new
ööA D
{
ööE F
x
ööG H
.
ööH I
UserId
ööI O
,
ööO P
x
ööQ R
.
ööR S
LoginProvider
ööS `
,
öö` a
x
ööb c
.
ööc d
Name
ööd h
}
ööi j
)
ööj k
;
öök l
table
õõ 
.
õõ 

ForeignKey
õõ $
(
õõ$ %
name
úú 
:
úú 
$str
úú F
,
úúF G
column
ùù 
:
ùù 
x
ùù  !
=>
ùù" $
x
ùù% &
.
ùù& '
UserId
ùù' -
,
ùù- .
principalTable
ûû &
:
ûû& '
$str
ûû( 5
,
ûû5 6
principalColumn
üü '
:
üü' (
$str
üü) -
,
üü- .
onDelete
††  
:
††  !
ReferentialAction
††" 3
.
††3 4
Cascade
††4 ;
)
††; <
;
††< =
}
°° 
)
°° 
;
°° 
migrationBuilder
££ 
.
££ 

InsertData
££ '
(
££' (
table
§§ 
:
§§ 
$str
§§ $
,
§§$ %
columns
•• 
:
•• 
new
•• 
[
•• 
]
•• 
{
••  
$str
••! %
,
••% &
$str
••' 9
,
••9 :
$str
••; A
,
••A B
$str
••C S
}
••T U
,
••U V
values
¶¶ 
:
¶¶ 
new
¶¶ 
object
¶¶ "
[
¶¶" #
,
¶¶# $
]
¶¶$ %
{
ßß 
{
®® 
$str
®® <
,
®®< =
$str
®®> d
,
®®d e
$str
®®f m
,
®®m n
$str
®®o v
}
®®w x
,
®®x y
{
©© 
$str
©© <
,
©©< =
$str
©©> d
,
©©d e
$str
©©f l
,
©©l m
$str
©©n t
}
©©u v
}
™™ 
)
™™ 
;
™™ 
migrationBuilder
¨¨ 
.
¨¨ 
CreateIndex
¨¨ (
(
¨¨( )
name
≠≠ 
:
≠≠ 
$str
≠≠ 2
,
≠≠2 3
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ )
,
ÆÆ) *
column
ØØ 
:
ØØ 
$str
ØØ  
)
ØØ  !
;
ØØ! "
migrationBuilder
±± 
.
±± 
CreateIndex
±± (
(
±±( )
name
≤≤ 
:
≤≤ 
$str
≤≤ %
,
≤≤% &
table
≥≥ 
:
≥≥ 
$str
≥≥ $
,
≥≥$ %
column
¥¥ 
:
¥¥ 
$str
¥¥ (
,
¥¥( )
unique
µµ 
:
µµ 
true
µµ 
,
µµ 
filter
∂∂ 
:
∂∂ 
$str
∂∂ 6
)
∂∂6 7
;
∂∂7 8
migrationBuilder
∏∏ 
.
∏∏ 
CreateIndex
∏∏ (
(
∏∏( )
name
ππ 
:
ππ 
$str
ππ 2
,
ππ2 3
table
∫∫ 
:
∫∫ 
$str
∫∫ )
,
∫∫) *
column
ªª 
:
ªª 
$str
ªª  
)
ªª  !
;
ªª! "
migrationBuilder
ΩΩ 
.
ΩΩ 
CreateIndex
ΩΩ (
(
ΩΩ( )
name
ææ 
:
ææ 
$str
ææ 2
,
ææ2 3
table
øø 
:
øø 
$str
øø )
,
øø) *
column
¿¿ 
:
¿¿ 
$str
¿¿  
)
¿¿  !
;
¿¿! "
migrationBuilder
¬¬ 
.
¬¬ 
CreateIndex
¬¬ (
(
¬¬( )
name
√√ 
:
√√ 
$str
√√ 1
,
√√1 2
table
ƒƒ 
:
ƒƒ 
$str
ƒƒ (
,
ƒƒ( )
column
≈≈ 
:
≈≈ 
$str
≈≈  
)
≈≈  !
;
≈≈! "
migrationBuilder
«« 
.
«« 
CreateIndex
«« (
(
««( )
name
»» 
:
»» 
$str
»» "
,
»»" #
table
…… 
:
…… 
$str
…… $
,
……$ %
column
   
:
   
$str
   )
)
  ) *
;
  * +
migrationBuilder
ÃÃ 
.
ÃÃ 
CreateIndex
ÃÃ (
(
ÃÃ( )
name
ÕÕ 
:
ÕÕ 
$str
ÕÕ %
,
ÕÕ% &
table
ŒŒ 
:
ŒŒ 
$str
ŒŒ $
,
ŒŒ$ %
column
œœ 
:
œœ 
$str
œœ ,
,
œœ, -
unique
–– 
:
–– 
true
–– 
,
–– 
filter
—— 
:
—— 
$str
—— :
)
——: ;
;
——; <
}
““ 	
	protected
’’ 
override
’’ 
void
’’ 
Down
’’  $
(
’’$ %
MigrationBuilder
’’% 5
migrationBuilder
’’6 F
)
’’F G
{
÷÷ 	
migrationBuilder
◊◊ 
.
◊◊ 
	DropTable
◊◊ &
(
◊◊& '
name
ÿÿ 
:
ÿÿ 
$str
ÿÿ (
)
ÿÿ( )
;
ÿÿ) *
migrationBuilder
⁄⁄ 
.
⁄⁄ 
	DropTable
⁄⁄ &
(
⁄⁄& '
name
€€ 
:
€€ 
$str
€€ (
)
€€( )
;
€€) *
migrationBuilder
›› 
.
›› 
	DropTable
›› &
(
››& '
name
ﬁﬁ 
:
ﬁﬁ 
$str
ﬁﬁ (
)
ﬁﬁ( )
;
ﬁﬁ) *
migrationBuilder
‡‡ 
.
‡‡ 
	DropTable
‡‡ &
(
‡‡& '
name
·· 
:
·· 
$str
·· '
)
··' (
;
··( )
migrationBuilder
„„ 
.
„„ 
	DropTable
„„ &
(
„„& '
name
‰‰ 
:
‰‰ 
$str
‰‰ (
)
‰‰( )
;
‰‰) *
migrationBuilder
ÊÊ 
.
ÊÊ 
	DropTable
ÊÊ &
(
ÊÊ& '
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ #
)
ÁÁ# $
;
ÁÁ$ %
migrationBuilder
ÈÈ 
.
ÈÈ 
	DropTable
ÈÈ &
(
ÈÈ& '
name
ÍÍ 
:
ÍÍ 
$str
ÍÍ #
)
ÍÍ# $
;
ÍÍ$ %
}
ÎÎ 	
}
ÏÏ 
}ÌÌ ™
ÑC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\AdhaarApiAuthDb\20240126081747_new migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
.  
AdhaarApiAuthDb  /
{ 
[		 #
ExcludeFromCodeCoverage		 
]		 
public

 

partial

 
class

 
newmigration

 %
:

& '
	Migration

( 1
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ⁄
bC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\Domain\ImageAd.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
Domain "
{ 
public 

class 
ImageAd 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public 
string 
? 
	FirstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Age 
{ 
get 
; 
set "
;" #
}$ %
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
? 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
Locality 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
District 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
State 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
UID 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
	NotMapped	 
] 
public!! 
	IFormFile!! 
?!! 
File!! 
{!!  
get!!! $
;!!$ %
set!!& )
;!!) *
}!!+ ,
}%% 
}&& €
_C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\Domain\User.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
Domain "
{ 
public 

class 
User 
: 
IdentityUser "
{ 
public

 
Guid

 
?

 
ImageId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
ImageAd 
? 
Image 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ã
jC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\AddImageRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
AddImageRequestDto #
{ 
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public

 
string

 
LastName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Age 
{ 
get 
; 
set !
;! "
}# $
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Locality 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
District 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
UID 
{ 
get 
;  
set! $
;$ %
}& '
public 
	IFormFile 
File 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ÷
`C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\ImageDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
ImageDto 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public

 
string

 
?

 
	FirstName

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Age 
{ 
get 
; 
set "
;" #
}$ %
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
? 
Phone 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Locality 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
District 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
State 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
UID 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
	NotMapped	 
] 
public   
	IFormFile   
?   
File   
{    
get  ! $
;  $ %
set  & )
;  ) *
}  + ,
}"" 
}## Ø
gC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\LoginRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginRequestDto  
{ 
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
public		 
string		 
Username		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} á
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\LoginResponseDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginResponseDto !
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
List 
< 
string 
> 
Roles !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
JwtToken 
{  
get! $
;$ %
set& )
;) *
}+ ,
}		 
}

 Ó
nC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\RegisterUserRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class "
RegisterUserRequestDto '
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public

 
string

 
[

 
]

 
Roles

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
} 
} »
_C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\UserDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
UserDto 
{ 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
Guid 
? 
ImageId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
ImageAd 
? 
Image 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ‡X
TC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Program.cs
[ #
ExcludeFromCodeCoverage 
] 
public 
class 
Program 
{ 
public 

static 
void 
Main 
( 
string "
[" #
]# $
args% )
)) *
{ 
var 
builder 
= 
WebApplication $
.$ %
CreateBuilder% 2
(2 3
args3 7
)7 8
;8 9
var 
logger 
= 
new 
LoggerConfiguration ,
(, -
)- .
. 
WriteTo 
. 
Console 
( 
) 
. 
WriteTo 
. 
File 
( 
$str +
,+ ,
rollingInterval- <
:< =
RollingInterval> M
.M N
DayN Q
)Q R
. 
MinimumLevel 
. 
Information %
(% &
)& '
. 
CreateLogger 
( 
) 
; 
builder 
. 
Logging 
. 
ClearProviders &
(& '
)' (
;( )
builder 
. 
Logging 
. 

AddSerilog "
(" #
logger# )
)) *
;* +
builder   
.   
Services   
.   
AddControllers   '
(  ' (
)  ( )
;  ) *
builder## 
.## 
Services## 
.## #
AddEndpointsApiExplorer## 0
(##0 1
)##1 2
;##2 3
builder$$ 
.$$ 
Services$$ 
.$$ 
AddSwaggerGen$$ &
($$& '
options$$' .
=>$$/ 1
{%% 	
options&& 
.&& 

SwaggerDoc&& 
(&& 
$str&& #
,&&# $
new&&% (
OpenApiInfo&&) 4
{'' 
Title(( 
=(( 
$str(( $
,(($ %
Version)) 
=)) 
$str)) 
}** 
)** 
;** 
options++ 
.++ !
AddSecurityDefinition++ )
(++) *
JwtBearerDefaults++* ;
.++; < 
AuthenticationScheme++< P
,++P Q
new++R U!
OpenApiSecurityScheme++V k
{,, 
Name-- 
=-- 
$str-- &
,--& '
In.. 
=.. 
ParameterLocation.. &
...& '
Header..' -
,..- .
Type// 
=// 
SecuritySchemeType// )
.//) *
ApiKey//* 0
,//0 1
Scheme00 
=00 
JwtBearerDefaults00 *
.00* + 
AuthenticationScheme00+ ?
}11 
)11 
;11 
options22 
.22 "
AddSecurityRequirement22 *
(22* +
new22+ .&
OpenApiSecurityRequirement22/ I
{33 
{44 	
new55 !
OpenApiSecurityScheme55 %
{66 
	Reference77 
=77 
new77 
OpenApiReference77 .
{88 
Type99 
=99 
ReferenceType99 &
.99& '
SecurityScheme99' 5
,995 6
Id:: 
=:: 
JwtBearerDefaults:: (
.::( ) 
AuthenticationScheme::) =
};; 
,;; 
Scheme<< 
=<< 
$str<< 
,<<  
Name== 
=== 
JwtBearerDefaults== &
.==& ' 
AuthenticationScheme==' ;
,==; <
In>> 
=>> 
ParameterLocation>> $
.>>$ %
Header>>% +
}?? 
,?? 
new@@ 
List@@ 
<@@ 
string@@ 
>@@ 
(@@ 
)@@ 
}AA 	
}BB 
)BB 
;BB 
}CC 	
)CC	 

;CC
 
builderEE 
.EE 
ServicesEE 
.EE 
AddDbContextEE %
<EE% &
AdhaarApiDbContextEE& 8
>EE8 9
(EE9 :
optionsEE: A
=>EEB D
optionsFF 
.FF 
UseSqlServerFF 
(FF 
builderFF $
.FF$ %
ConfigurationFF% 2
.FF2 3
GetConnectionStringFF3 F
(FFF G
$strFFG _
)FF_ `
)FF` a
)GG 	
;GG	 

builderII 
.II 
ServicesII 
.II 
AddDbContextII %
<II% &"
AdhaarApiAuthDbContextII& <
>II< =
(II= >
optionsII> E
=>IIF H
optionsJJ 
.JJ 
UseSqlServerJJ 
(JJ 
builderJJ $
.JJ$ %
ConfigurationJJ% 2
.JJ2 3
GetConnectionStringJJ3 F
(JJF G
$strJJG _
)JJ_ `
)JJ` a
)KK 	
;KK	 

builderMM 
.MM 
ServicesMM 
.MM 
	AddScopedMM "
<MM" #
IUserRepositoryMM# 2
,MM2 3
SQLUserRepositoryMM4 E
>MME F
(MMF G
)MMG H
;MMH I
builderNN 
.NN 
ServicesNN 
.NN 
	AddScopedNN "
<NN" #
ITokenRepositoryNN# 3
,NN3 4
TokenRepositoryNN5 D
>NND E
(NNE F
)NNF G
;NNG H
builderOO 
.OO 
ServicesOO 
.OO 
	AddScopedOO "
<OO" #
IImageRepositoryOO# 3
,OO3 4
ImageRepositoryOO5 D
>OOD E
(OOE F
)OOF G
;OOG H
builderRR 
.RR 
ServicesRR 
.RR 
AddAutoMapperRR &
(RR& '
typeofRR' -
(RR- .
AutoMapperprofilesRR. @
)RR@ A
)RRA B
;RRB C
builderTT 
.TT 
ServicesTT 
.TT 
AddIdentityCoreTT (
<TT( )
IdentityUserTT) 5
>TT5 6
(TT6 7
)TT7 8
.TT8 9
AddRolesTT9 A
<TTA B
IdentityRoleTTB N
>TTN O
(TTO P
)TTP Q
.UU 
AddTokenProviderUU 
<UU &
DataProtectorTokenProviderUU 8
<UU8 9
IdentityUserUU9 E
>UUE F
>UUF G
(UUG H
$strUUH T
)UUT U
.VV $
AddEntityFrameworkStoresVV %
<VV% &"
AdhaarApiAuthDbContextVV& <
>VV< =
(VV= >
)VV> ?
.WW $
AddDefaultTokenProvidersWW %
(WW% &
)WW& '
;WW' (
builderYY 
.YY 
ServicesYY 
.YY 
	ConfigureYY "
<YY" #
IdentityOptionsYY# 2
>YY2 3
(YY3 4
optionsYY4 ;
=>YY< >
{ZZ 	
options[[ 
.[[ 
Password[[ 
.[[ 
RequireDigit[[ )
=[[* +
false[[, 1
;[[1 2
options\\ 
.\\ 
Password\\ 
.\\ 
RequireLowercase\\ -
=\\. /
false\\0 5
;\\5 6
options]] 
.]] 
Password]] 
.]] 
RequireUppercase]] -
=]]. /
false]]0 5
;]]5 6
options^^ 
.^^ 
Password^^ 
.^^ "
RequireNonAlphanumeric^^ 3
=^^4 5
false^^6 ;
;^^; <
options__ 
.__ 
Password__ 
.__ 
RequiredLength__ +
=__, -
$num__. /
;__/ 0
options`` 
.`` 
Password`` 
.`` 
RequiredUniqueChars`` 0
=``1 2
$num``3 4
;``4 5
}aa 	
)aa	 

;aa
 
buildercc 
.cc 
Servicescc 
.cc 
AddAuthenticationcc *
(cc* +
JwtBearerDefaultscc+ <
.cc< = 
AuthenticationSchemecc= Q
)ccQ R
.ccR S
AddJwtBearerccS _
(cc_ `
optionsdd 
=>dd 
optionsee 
.ee %
TokenValidationParametersee -
=ee. /
newee0 3%
TokenValidationParametersee4 M
{ff 
ValidateIssuergg 
=gg  
truegg! %
,gg% &
ValidateAudiencehh  
=hh! "
truehh# '
,hh' ($
ValidateIssuerSigningKeyii (
=ii) *
trueii+ /
,ii/ 0
ValidateLifetimejj  
=jj! "
truejj# '
,jj' (
ValidIssuerkk 
=kk 
builderkk %
.kk% &
Configurationkk& 3
[kk3 4
$strkk4 @
]kk@ A
,kkA B
ValidAudiencell 
=ll 
builderll  '
.ll' (
Configurationll( 5
[ll5 6
$strll6 D
]llD E
,llE F
IssuerSigningKeymm  
=mm! "
newmm# & 
SymmetricSecurityKeymm' ;
(mm; <
Encodingmm< D
.mmD E
UTF8mmE I
.mmI J
GetBytesmmJ R
(mmR S
buildermmS Z
.mmZ [
Configurationmm[ h
[mmh i
$strmmi r
]mmr s
)mms t
)mmt u
}oo 
)pp 
;pp 
varvv 
appvv 
=vv 
buildervv 
.vv 
Buildvv 
(vv  
)vv  !
;vv! "
ifyy 

(yy 
appyy 
.yy 
Environmentyy 
.yy 
IsDevelopmentyy )
(yy) *
)yy* +
)yy+ ,
{zz 	
app{{ 
.{{ 

UseSwagger{{ 
({{ 
){{ 
;{{ 
app|| 
.|| 
UseSwaggerUI|| 
(|| 
)|| 
;|| 
}}} 	
app 
. 
UseHttpsRedirection 
(  
)  !
;! "
app
ÄÄ 
.
ÄÄ 
UseCors
ÄÄ 
(
ÄÄ 
options
ÄÄ 
=>
ÄÄ 
{
ÅÅ 	
options
ÇÇ 
.
ÇÇ 
AllowAnyHeader
ÇÇ "
(
ÇÇ" #
)
ÇÇ# $
;
ÇÇ$ %
options
ÉÉ 
.
ÉÉ 
AllowAnyMethod
ÉÉ "
(
ÉÉ" #
)
ÉÉ# $
;
ÉÉ$ %
options
ÑÑ 
.
ÑÑ 
AllowAnyOrigin
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
;
ÑÑ$ %
}
ÖÖ 	
)
ÖÖ	 

;
ÖÖ
 
app
áá 
.
áá 
UseAuthentication
áá 
(
áá 
)
áá 
;
áá  
app
àà 
.
àà 
UseAuthorization
àà 
(
àà 
)
àà 
;
àà 
app
ää 
.
ää 
MapControllers
ää 
(
ää 
)
ää 
;
ää 
app
åå 
.
åå 
Run
åå 
(
åå 
)
åå 
;
åå 
}
èè 
}êê Îf
wC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\ImageRepository.cs
	namespace

 	
Adhaar


 
.

 
API

 
.

 
Repositories

 !
.

! "
Implementaion

" /
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
ImageRepository  
:! "
IImageRepository# 3
{ 
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
ILogger  
<  !
ImageRepository! 0
>0 1
logger2 8
;8 9
private 
readonly 
string 
[  
]  !
exts" &
;& '
private 
const 
string 

folderName '
=( )
$str* 3
;3 4
public 
ImageRepository 
( 
AdhaarApiDbContext 1
	dbContext2 ;
,; <
ILogger< C
<C D
ImageRepositoryD S
>S T
loggerU [
)[ \
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
this 
. 
logger 
= 
logger  
;  !
exts 
= 
new 
string 
[ 
$num 
]  
{! "
$str# *
,* +
$str, 2
,2 3
$str4 :
}; <
;< =
} 	
public 
async 
Task 
< 
ImageAd !
>! "
CreateAsync# .
(. /
ImageAd/ 6
Image7 <
)< =
{ 	
await 
	dbContext 
. 
Images "
." #
AddAsync# +
(+ ,
Image, 1
)1 2
;2 3
await 
	dbContext 
. 
SaveChangesAsync ,
(, -
)- .
;. /
return   
Image   
;   
}!! 	
public## 
async## 
Task## 
<## 
ImageAd## !
?##! "
>##" #
DeleteAsync##$ /
(##/ 0
Guid##0 4
id##5 7
)##7 8
{$$ 	
var%% 
existingImage%% 
=%% 
await%%  %
	dbContext%%& /
.%%/ 0
Images%%0 6
.%%6 7
FirstOrDefaultAsync%%7 J
(%%J K
x%%K L
=>%%M O
x%%P Q
.%%Q R
Id%%R T
.%%T U
Equals%%U [
(%%[ \
id%%\ ^
)%%^ _
)%%_ `
;%%` a
if&& 
(&& 
existingImage&& 
==&&  
null&&! %
)&&% &
{&&' (
return&&) /
null&&0 4
;&&4 5
}&&6 7
	dbContext(( 
.(( 
Images(( 
.(( 
Remove(( #
(((# $
existingImage(($ 1
)((1 2
;((2 3
await)) 
	dbContext)) 
.)) 
SaveChangesAsync)) ,
()), -
)))- .
;)). /
return** 
existingImage**  
;**  !
}++ 	
public-- 
async-- 
Task-- 
<-- 
List-- 
<-- 
ImageAd-- &
>--& '
>--' (
GetAllAsync--) 4
(--4 5
)--5 6
{.. 	
return// 
await// 
	dbContext// "
.//" #
Images//# )
.//) *
ToListAsync//* 5
(//5 6
)//6 7
;//7 8
}00 	
public22 
async22 
Task22 
<22 
ImageAd22 !
?22! "
>22" #
GetByIdAsync22$ 0
(220 1
Guid221 5
id226 8
)228 9
{33 	
return44 
await44 
	dbContext44 "
.44" #
Images44# )
.44) *
FirstOrDefaultAsync44* =
(44= >
x44> ?
=>44@ B
(44C D
x44D E
.44E F
Id44F H
)44H I
.44I J
Equals44J P
(44P Q
id44Q S
)44S T
)44T U
;44U V
}55 	
public77 
async77 
Task77 
<77 
ImageAd77 !
?77! "
>77" #
UpdateAsync77$ /
(77/ 0
Guid770 4
id775 7
,777 8
ImageAd779 @
Image77A F
)77F G
{88 	
var99 
existingImage99 
=99 
await99  %
	dbContext99& /
.99/ 0
Images990 6
.996 7
FirstOrDefaultAsync997 J
(99J K
x99K L
=>99M O
(99P Q
x99Q R
.99R S
Id99S U
)99U V
.99V W
Equals99W ]
(99] ^
id99^ `
)99` a
)99a b
;99b c
if:: 
(:: 
existingImage:: 
==::  
null::! %
)::% &
{::' (
return::) /
null::0 4
;::4 5
}::6 7
existingImage<< 
.<< 
Id<< 
=<< 
id<< !
;<<! "
existingImage>> 
.>> 
State>> 
=>>  
Image>>  %
.>>% &
State>>& +
==>>+ -
null>>- 1
?>>1 2
existingImage>>2 ?
.>>? @
State>>@ E
:>>E F
Image>>F K
.>>K L
State>>L Q
;>>Q R
existingImage@@ 
.@@ 
UID@@ 
=@@ 
Image@@  %
.@@% &
UID@@& )
==@@) +
null@@+ /
?@@/ 0
existingImage@@0 =
.@@= >
UID@@> A
:@@A B
Image@@B G
.@@G H
UID@@H K
;@@K L
existingImageBB 
.BB 
	FirstNameBB #
=BB# $
ImageBB$ )
.BB) *
	FirstNameBB* 3
==BB3 5
nullBB5 9
?BB9 :
existingImageBB: G
.BBG H
	FirstNameBBH Q
:BBQ R
ImageBBR W
.BBW X
	FirstNameBBX a
;BBa b
existingImageDD 
.DD 
LastNameDD "
=DD# $
ImageDD% *
.DD* +
LastNameDD+ 3
==DD4 6
nullDD7 ;
?DD< =
existingImageDD> K
.DDK L
LastNameDDL T
:DDU V
ImageDDW \
.DD\ ]
LastNameDD] e
;DDe f
existingImageFF 
.FF 
AddressFF !
=FF" #
ImageFF$ )
.FF) *
AddressFF* 1
==FF2 4
nullFF5 9
?FF: ;
existingImageFF< I
.FFI J
AddressFFJ Q
:FFR S
ImageFFT Y
.FFY Z
AddressFFZ a
;FFa b
existingImageHH 
.HH 
AgeHH 
=HH 
ImageHH #
.HH# $
AgeHH$ '
==HH' )
nullHH) -
?HH- .
existingImageHH. ;
.HH; <
AgeHH< ?
:HH? @
ImageHH@ E
.HHE F
AgeHHF I
;HHI J
existingImageJJ 
.JJ 
DistrictJJ "
=JJ" #
ImageJJ# (
.JJ( )
DistrictJJ) 1
==JJ1 3
nullJJ3 7
?JJ7 8
existingImageJJ8 E
.JJE F
DistrictJJF N
:JJN O
ImageJJO T
.JJT U
DistrictJJU ]
;JJ] ^
existingImageLL 
.LL 
FileLL 
=LL 
ImageLL $
.LL$ %
FileLL% )
==LL) +
nullLL+ /
?LL/ 0
existingImageLL0 =
.LL= >
FileLL> B
:LLB C
ImageLLC H
.LLH I
FileLLI M
;LLM N
existingImageNN 
.NN 
LocalityNN "
=NN" #
ImageNN# (
.NN( )
LocalityNN) 1
==NN1 3
nullNN3 7
?NN7 8
existingImageNN8 E
.NNE F
LocalityNNF N
:NNN O
ImageNNO T
.NNT U
LocalityNNU ]
;NN] ^
existingImagePP 
.PP 
PhonePP 
=PP  
ImagePP  %
.PP% &
PhonePP& +
==PP+ -
nullPP- 1
?PP1 2
existingImagePP2 ?
.PP? @
PhonePP@ E
:PPE F
ImagePPF K
.PPK L
PhonePPL Q
;PPQ R
awaitSS 
	dbContextSS 
.SS 
SaveChangesAsyncSS ,
(SS, -
)SS- .
;SS. /
returnUU 
existingImageUU  
;UU  !
}WW 	
publicYY 
asyncYY 
TaskYY 
<YY 
stringYY  
?YY  !
>YY! "
OCRYY# &
(YY& '
ImageAdYY' .
requestYY/ 6
)YY6 7
{ZZ 	
try[[ 
{\\ 
if^^ 
(^^ 
request^^ 
?^^ 
.^^ 
File^^ !
==^^" $
null^^% )
||^^* ,
request^^- 4
.^^4 5
File^^5 9
.^^9 :
Length^^: @
==^^A C
$num^^D E
)^^E F
{__ 
logger`` 
.`` 
LogInformation`` )
(``) *
$str``* =
)``= >
;``> ?
returnaa 
nullaa 
;aa  
}bb 
stringdd 
fileNamedd 
=dd  !
requestdd" )
.dd) *
Filedd* .
.dd. /
FileNamedd/ 7
;dd7 8
stringee 
filePathee 
=ee  !
Pathee" &
.ee& '
Combineee' .
(ee. /

folderNameee/ 9
,ee9 :
fileNameee; C
)eeC D
;eeD E
stringff 
extff 
=ff 
Pathff !
.ff! "
GetExtensionff" .
(ff. /
filePathff/ 7
)ff7 8
;ff8 9
ifgg 
(gg 
!gg 
extsgg 
.gg 
Containsgg "
(gg" #
extgg# &
)gg& '
)gg' (
{hh 
loggerii 
.ii 
LogInformationii )
(ii) *
$strii* C
)iiC D
;iiD E
returnjj 
nulljj 
;jj  
}kk 
usingpp 
(pp 
varpp 

fileStreampp %
=pp& '
newpp( +

FileStreampp, 6
(pp6 7
filePathpp7 ?
,pp? @
FileModeppA I
.ppI J
CreateppJ P
)ppP Q
)ppQ R
{qq 
awaitrr 
requestrr !
.rr! "
Filerr" &
.rr& '
CopyToAsyncrr' 2
(rr2 3

fileStreamrr3 =
)rr= >
;rr> ?
}ss 
boolvv 
isValidLicensevv #
=vv$ %
Licensevv& -
.vv- .
IsValidLicensevv. <
(vv< =
$str	vv= ã
)
vvã å
;
vvå ç
ifxx 
(xx 
!xx 
isValidLicensexx #
)xx# $
{yy 
loggerzz 
.zz 
LogInformationzz )
(zz) *
$strzz* <
)zz< =
;zz= >
return{{ 
null{{ 
;{{  
}|| 
var 
ocr 
= 
new 
IronTesseract +
(+ ,
), -
;- .
using
ÉÉ 
(
ÉÉ 
var
ÉÉ 
ocrInput
ÉÉ #
=
ÉÉ$ %
new
ÉÉ& )
OcrInput
ÉÉ* 2
(
ÉÉ2 3
)
ÉÉ3 4
)
ÉÉ4 5
{
ÑÑ 
ocrInput
ÖÖ 
.
ÖÖ 
AddImage
ÖÖ %
(
ÖÖ% &
filePath
ÖÖ& .
)
ÖÖ. /
;
ÖÖ/ 0
ocrInput
ÜÜ 
.
ÜÜ 
EnhanceResolution
ÜÜ .
(
ÜÜ. /
)
ÜÜ/ 0
;
ÜÜ0 1
ocrInput
áá 
.
áá 
DeNoise
áá $
(
áá$ %
)
áá% &
;
áá& '
var
ââ 
	ocrResult
ââ !
=
ââ" #
ocr
ââ$ '
.
ââ' (
Read
ââ( ,
(
ââ, -
ocrInput
ââ- 5
)
ââ5 6
;
ââ6 7
return
çç 
	ocrResult
çç $
.
çç$ %
Text
çç% )
;
çç) *
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
logger
íí 
.
íí 
LogInformation
íí %
(
íí% &
ex
íí& (
.
íí( )
Message
íí) 0
)
íí0 1
;
íí1 2
return
ìì 
null
ìì 
;
ìì 
}
îî 
}
ïï 	
}
ññ 
}óó π7
yC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\SQLUserRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
Implementaion" /
{ 
public 

class 
SQLUserRepository "
:" #
IUserRepository# 2
{		 
private

 
readonly

 
AdhaarApiDbContext

 +
	dbContext

, 5
;

5 6
public 
SQLUserRepository  
(  !
AdhaarApiDbContext! 3
	dbContext4 =
)= >
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
< 
User 
> 
CreateAsync  +
(+ ,
User, 0
user1 5
)5 6
{ 	
await 
	dbContext 
. 
Users !
.! "
AddAsync" *
(* +
user+ /
)/ 0
;0 1
await 
	dbContext 
. 
SaveChangesAsync ,
(, -
)- .
;. /
return 
user 
; 
} 	
public 
async 
Task 
< 
User 
? 
>  
DeleteAsync! ,
(, -
string- 3
id4 6
)6 7
{ 	
var 
existingUser 
= 
await $
	dbContext% .
.. /
Users/ 4
.4 5
FirstOrDefaultAsync5 H
(H I
xI J
=>K M
xN O
.O P
IdP R
.R S
EqualsS Y
(Y Z
idZ \
)\ ]
)] ^
;^ _
if 
( 
existingUser 
== 
null  $
)$ %
{& '
return( .
null/ 3
;3 4
}5 6
	dbContext 
. 
Users 
. 
Remove "
(" #
existingUser# /
)/ 0
;0 1
await   
	dbContext   
.   
SaveChangesAsync   ,
(  , -
)  - .
;  . /
return!! 
existingUser!! 
;!!  
}## 	
public%% 
async%% 
Task%% 
<%% 
List%% 
<%% 
User%% #
>%%# $
>%%$ %
GetAllAsync%%& 1
(%%1 2
)%%2 3
{&& 	
return'' 
await'' 
	dbContext'' "
.''" #
Users''# (
.''( )
Include'') 0
(''0 1
a''1 2
=>''2 4
a''4 5
.''5 6
Image''6 ;
)''; <
.''< =
ToListAsync''= H
(''H I
)''I J
;''J K
}(( 	
public++ 
async++ 
Task++ 
<++ 
User++ 
?++ 
>++  
GetByIdAsync++! -
(++- .
string++. 4
id++5 7
)++7 8
{,, 	
return.. 
await.. 
	dbContext.. "
..." #
Users..# (
...( )
Include..) 0
(..0 1
a..1 2
=>..2 4
a..4 5
...5 6
Image..6 ;
)..; <
...< =
FirstOrDefaultAsync..= P
(..P Q
x..Q R
=>..S U
(..V W
x..W X
...X Y
Id..Y [
)..[ \
...\ ]
Equals..] c
(..c d
id..d f
)..f g
)..g h
;..h i
}00 	
public33 
async33 
Task33 
<33 
User33 
?33 
>33  
UpdateAsync33! ,
(33, -
string33- 3
id334 6
,336 7
User338 <
user33= A
)33A B
{44 	
var55 
existingUser55 
=55 
await55 $
	dbContext55% .
.55. /
Users55/ 4
.554 5
FirstOrDefaultAsync555 H
(55H I
x55I J
=>55K M
(55N O
x55O P
.55P Q
Id55Q S
)55S T
.55T U
Equals55U [
(55[ \
id55\ ^
)55^ _
)55_ `
;55` a
if66 
(66 
existingUser66 
==66 
null66  $
)66$ %
{66& '
return66( .
null66/ 3
;663 4
}665 6
existingUser88 
.88 
Id88 
=88 
id88  
;88  !
existingUser99 
.99 
UserName99 !
=99" #
user99$ (
.99( )
UserName99) 1
==992 4
null995 9
?99: ;
existingUser99< H
.99H I
UserName99I Q
:99R S
user99T X
.99X Y
UserName99Y a
;99a b
existingUser:: 
.:: 
Email:: 
=::  
user::! %
.::% &
Email::& +
==::, .
null::/ 3
?::4 5
existingUser::6 B
.::B C
Email::C H
:::I J
user::K O
.::O P
Email::P U
;::U V
existingUser;; 
.;; 
PhoneNumber;; $
=;;% &
user;;' +
.;;+ ,
PhoneNumber;;, 7
==;;8 :
null;;; ?
?;;@ A
existingUser;;B N
.;;N O
PhoneNumber;;O Z
:;;[ \
user;;] a
.;;a b
PhoneNumber;;b m
;;;m n
existingUser<< 
.<< 
PasswordHash<< %
=<<& '
user<<( ,
.<<, -
PasswordHash<<- 9
==<<: <
null<<= A
?<<B C
existingUser<<D P
.<<P Q
PasswordHash<<Q ]
:<<^ _
user<<` d
.<<d e
PasswordHash<<e q
;<<q r
existingUser== 
.== 
ImageId==  
===  !
user==! %
.==% &
ImageId==& -
====- /
null==/ 3
?==4 5
existingUser==6 B
.==B C
ImageId==C J
:==K L
user==M Q
.==Q R
ImageId==R Y
;==Y Z
existingUser>> 
.>> 
Image>> 
=>> 
user>> #
.>># $
Image>>$ )
==>>) +
null>>+ /
?>>0 1
existingUser>>2 >
.>>> ?
Image>>? D
:>>E F
user>>G K
.>>K L
Image>>L Q
;>>Q R
awaitCC 
	dbContextCC 
.CC 
SaveChangesAsyncCC ,
(CC, -
)CC- .
;CC. /
returnDD 
existingUserDD 
;DD  
}FF 	
}GG 
}HH Û
wC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\TokenRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
Implementaion" /
{		 
public

 

class

 
TokenRepository

  
:

! "
ITokenRepository

# 3
{ 
private 
readonly 
IConfiguration '
configuration( 5
;5 6
public 
TokenRepository 
( 
IConfiguration -
configuration. ;
); <
{ 	
this 
. 
configuration 
=  
configuration! .
;. /
} 	
public 
string 
CreateJWTToken $
($ %
IdentityUser% 1
user2 6
,6 7
List8 <
<< =
string= C
>C D
rolesE J
)J K
{ 	
var 
claims 
= 
new 
List !
<! "
Claim" '
>' (
{ 
new 
Claim 
( 

ClaimTypes $
.$ %
Email% *
,* +
user, 0
.0 1
Email1 6
)6 7
} 
; 
foreach 
( 
var 
role 
in  
roles! &
)& '
{ 
claims 
. 
Add 
( 
new 
Claim $
($ %

ClaimTypes% /
./ 0
Role0 4
,4 5
role6 :
): ;
); <
;< =
} 
var 
key 
= 
new  
SymmetricSecurityKey .
(. /
Encoding/ 7
.7 8
UTF88 <
.< =
GetBytes= E
(E F
configurationF S
[S T
$strT ]
]] ^
)^ _
)_ `
;` a
var   
credentials   
=   
new   !
SigningCredentials  " 4
(  4 5
key  5 8
,  8 9
SecurityAlgorithms  : L
.  L M

HmacSha256  M W
)  W X
;  X Y
var"" 
token"" 
="" 
new"" 
JwtSecurityToken"" ,
("", -
configuration## 
[## 
$str## *
]##* +
,##+ ,
configuration$$ 
[$$ 
$str$$ ,
]$$, -
,$$- .
claims%% 
,%% 
expires&& 
:&& 
DateTime&& !
.&&! "
Now&&" %
.&&% &

AddMinutes&&& 0
(&&0 1
$num&&1 3
)&&3 4
,&&4 5
signingCredentials'' "
:''" #
credentials''$ /
))) 
;)) 
return++ 
new++ #
JwtSecurityTokenHandler++ .
(++. /
)++/ 0
.++0 1

WriteToken++1 ;
(++; <
token++< A
)++A B
;++B C
},, 	
}-- 
}.. §
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\IImageRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
IImageRepository %
{ 
Task 
< 
List 
< 
ImageAd 
> 
> 
GetAllAsync '
(' (
)( )
;) *
Task		 
<		 
ImageAd		 
?		 
>		 
GetByIdAsync		 #
(		# $
Guid		$ (
id		) +
)		+ ,
;		, -
Task 
< 
ImageAd 
> 
CreateAsync !
(! "
ImageAd" )
Image* /
)/ 0
;0 1
Task 
< 
ImageAd 
? 
> 
UpdateAsync "
(" #
Guid# '
id( *
,* +
ImageAd, 3
Image4 9
)9 :
;: ;
Task 
< 
ImageAd 
? 
> 
DeleteAsync "
(" #
Guid# '
id( *
)* +
;+ ,
Task 
< 
string 
? 
> 
OCR 
( 
ImageAd !
request" )
)) *
;* +
} 
} ˛
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\ITokenRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
ITokenRepository %
{ 
string 
CreateJWTToken 
( 
IdentityUser *
user+ /
,/ 0
List1 5
<5 6
string6 <
>< =
roles> C
)C D
;D E
} 
}		 ÷

sC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\IUserRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
IUserRepository $
{ 
Task 
< 
List 
< 
User 
> 
> 
GetAllAsync $
($ %
)% &
;& '
Task 
< 
User 
? 
> 
GetByIdAsync  
(  !
string! '
id( *
)* +
;+ ,
Task 
< 
User 
> 
CreateAsync 
( 
User #
user$ (
)( )
;) *
Task 
< 
User 
? 
> 
UpdateAsync 
(  
string  &
id' )
,) *
User+ /
user0 4
)4 5
;5 6
Task 
< 
User 
? 
> 
DeleteAsync 
(  
string  &
id' )
)) *
;* +
} 
} 