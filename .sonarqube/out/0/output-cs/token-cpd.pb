˛}
gC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Controllers\AuthController.cs
	namespace 	
Adhaar
 
. 
API 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AuthController 
:  !
ControllerBase" 0
{ 
private 
readonly 
ILogger  
<  !
AuthController! /
>/ 0
logger1 7
;7 8
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
userManager3 >
;> ?
private 
readonly 
ITokenRepository )
tokenRepository* 9
;9 :
private 
readonly 
IMapper  
mapper! '
;' (
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
IUserRepository (
userRepository) 7
;7 8
private 
readonly 
string 
[  
]  !
exts" &
;& '
private 
const 
string 

folderName '
=( )
$str* 3
;3 4
public.. 
AuthController.. 
(.. 
ILogger.. %
<..% &
AuthController..& 4
>..4 5
logger..6 <
,..< =
UserManager..> I
<..I J
IdentityUser..J V
>..V W
userManager..X c
,..c d
ITokenRepository..e u
tokenRepository	..v Ö
,
..Ö Ü
IMapper
..á é
mapper
..è ï
,
..ï ñ 
AdhaarApiDbContext
..ó ©
	dbContext
..™ ≥
,
..≥ ¥
IUserRepository
..µ ƒ
userRepository
..≈ ”
)
..” ‘
{// 	
this00 
.00 
logger00 
=00 
logger00  
;00  !
this11 
.11 
userManager11 
=11 
userManager11 *
;11* +
this22 
.22 
tokenRepository22  
=22! "
tokenRepository22# 2
;222 3
this33 
.33 
mapper33 
=33 
mapper33  
;33  !
this44 
.44 
	dbContext44 
=44 
	dbContext44 &
;44& '
this55 
.55 
userRepository55 
=55  !
userRepository55" 0
;550 1
exts66 
=66 
new66 
string66 
[66 
$num66 
]66  
{66! "
$str66# *
,66* +
$str66, 2
,662 3
$str664 :
}66; <
;66< =
}99 	
[<< 	
HttpPost<<	 
]<< 
[== 	
Route==	 
(== 
$str== 
)== 
]== 
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
Register>>) 1
(>>1 2
[>>2 3
FromBody>>3 ;
]>>; <"
RegisterUserRequestDto>>= S
registerRequestDto>>T f
)>>f g
{?? 	
varAA 
identityUserAA 
=AA 
newAA "
UserAA# '
{BB 
UserNameCC 
=CC 
registerRequestDtoCC -
.CC- .
UsernameCC. 6
,CC6 7
EmailDD 
=DD 
registerRequestDtoDD *
.DD* +
UsernameDD+ 3
}EE 
;EE 
varII 
identityResultII 
=II  
awaitII! &
userManagerII' 2
.II2 3
CreateAsyncII3 >
(II> ?
identityUserII? K
,IIK L
registerRequestDtoIIM _
.II_ `
PasswordII` h
)IIh i
;IIi j
ifLL 
(LL 
identityResultLL 
.LL 
	SucceededLL (
)LL( )
{MM 
ifPP 
(PP 
registerRequestDtoPP &
.PP& '
RolesPP' ,
!=PP- /
nullPP0 4
&&PP5 7
registerRequestDtoPP8 J
.PPJ K
RolesPPK P
.PPP Q
AnyPPQ T
(PPT U
)PPU V
)PPV W
{QQ 
identityResultRR "
=RR# $
awaitRR% *
userManagerRR+ 6
.RR6 7
AddToRolesAsyncRR7 F
(RRF G
identityUserRRG S
,RRS T
registerRequestDtoRRU g
.RRg h
RolesRRh m
)RRm n
;RRn o
ifSS 
(SS 
identityResultSS &
.SS& '
	SucceededSS' 0
)SS0 1
{TT 
varUU 
identity_userUU )
=UU* +
awaitUU, 1
userRepositoryUU2 @
.UU@ A
CreateAsyncUUA L
(UUL M
identityUserUUM Y
)UUY Z
;UUZ [
ifVV 
(VV 
identity_userVV )
==VV* ,
nullVV- 1
)VV1 2
{WW 
awaitYY !
userManagerYY" -
.YY- .
DeleteAsyncYY. 9
(YY9 :
identityUserYY: F
)YYF G
;YYG H
return[[ "

BadRequest[[# -
([[- .
$str[[. K
)[[K L
;[[L M
}\\ 
var^^ 
userDTO^^ #
=^^$ %
mapper^^& ,
.^^, -
Map^^- 0
<^^0 1
UserDto^^1 8
>^^8 9
(^^9 :
identity_user^^: G
)^^G H
;^^H I
return__ 
CreatedAtAction__ .
(__. /
nameof__/ 5
(__5 6
GetById__6 =
)__= >
,__> ?
new__@ C
{__D E
id__F H
=__I J
userDTO__K R
.__R S
Id__S U
}__V W
,__W X
userDTO__Y `
)__` a
;__a b
}bb 
}cc 
}dd 
awaitff 
userRepositoryff  
.ff  !
DeleteAsyncff! ,
(ff, -
identityUserff- 9
.ff9 :
Idff: <
)ff< =
;ff= >
awaitgg 
userManagergg 
.gg 
DeleteAsyncgg )
(gg) *
identityUsergg* 6
)gg6 7
;gg7 8
returnii 

BadRequestii 
(ii 
$strii ;
)ii; <
;ii< =
}kk 	
[pp 	
HttpPostpp	 
]pp 
[qq 	
Routeqq	 
(qq 
$strqq 
)qq 
]qq 
publicss 
asyncss 
Taskss 
<ss 
IActionResultss '
>ss' (
Loginss) .
(ss. /
[ss/ 0
FromBodyss0 8
]ss8 9
LoginRequestDtoss: I
loginRequestDtossJ Y
)ssY Z
{tt 	
varuu 
useruu 
=uu 
awaituu 
userManageruu (
.uu( )
FindByEmailAsyncuu) 9
(uu9 :
loginRequestDtouu: I
.uuI J
UsernameuuJ R
)uuR S
;uuS T
ifvv 
(vv 
uservv 
!=vv 
nullvv 
)vv 
{ww 
varxx 
checkPasswordResultxx '
=xx( )
awaitxx* /
userManagerxx0 ;
.xx; <
CheckPasswordAsyncxx< N
(xxN O
userxxO S
,xxS T
loginRequestDtoxxU d
.xxd e
Passwordxxe m
)xxm n
;xxn o
ifyy 
(yy 
checkPasswordResultyy '
)yy' (
{zz 
var|| 
roles|| 
=|| 
await||  %
userManager||& 1
.||1 2
GetRolesAsync||2 ?
(||? @
user||@ D
)||D E
;||E F
if}} 
(}} 
roles}} 
!=}}  
null}}! %
)}}% &
{~~ 
var 
jwtToken $
=% &
tokenRepository' 6
.6 7
CreateJWTToken7 E
(E F
userF J
,J K
rolesL Q
.Q R
ToListR X
(X Y
)Y Z
)Z [
;[ \
var
ÇÇ 
response
ÇÇ $
=
ÇÇ% &
new
ÇÇ' *
LoginResponseDto
ÇÇ+ ;
{
ÉÉ 
Email
ÑÑ !
=
ÑÑ" #
loginRequestDto
ÑÑ$ 3
.
ÑÑ3 4
Username
ÑÑ4 <
,
ÑÑ< =
Roles
ÖÖ !
=
ÖÖ" #
roles
ÖÖ$ )
.
ÖÖ) *
ToList
ÖÖ* 0
(
ÖÖ0 1
)
ÖÖ1 2
,
ÖÖ2 3
JwtToken
ÜÜ $
=
ÜÜ% &
jwtToken
ÜÜ' /
,
ÜÜ/ 0
Id
áá 
=
áá  
user
áá! %
.
áá% &
Id
áá& (
}
àà 
;
àà 
return
ââ 
Ok
ââ !
(
ââ! "
response
ââ" *
)
ââ* +
;
ââ+ ,
}
ãã 
return
çç 

BadRequest
çç %
(
çç% &
$str
çç& :
)
çç: ;
;
çç; <
}
éé 
return
èè 

BadRequest
èè !
(
èè! "
$str
èè" 3
)
èè3 4
;
èè4 5
}
êê 
return
ëë 

BadRequest
ëë 
(
ëë 
$str
ëë :
)
ëë: ;
;
ëë; <
}
íí 	
[
ïï 	
HttpPost
ïï	 
]
ïï 
[
ññ 	
Route
ññ	 
(
ññ 
$str
ññ 
)
ññ 
]
ññ 
public
óó 
async
óó 
Task
óó 
<
óó 
IActionResult
óó '
>
óó' (
DoOCR
óó) .
(
óó. /
[
óó/ 0
	FromRoute
óó0 9
]
óó9 :
string
óó; A
id
óóB D
,
óóD E
[
óóE F
FromForm
óóF N
]
óóN O
ImageAd
óóP W
request
óóX _
)
óó_ `
{
òò 	
try
öö 
{
õõ 
if
ùù 
(
ùù 
request
ùù 
?
ùù 
.
ùù 
File
ùù !
==
ùù" $
null
ùù% )
||
ùù* ,
request
ùù- 4
.
ùù4 5
File
ùù5 9
.
ùù9 :
Length
ùù: @
==
ùùA C
$num
ùùD E
)
ùùE F
{
ûû 
return
üü 

BadRequest
üü %
(
üü% &
$str
üü& 9
)
üü9 :
;
üü: ;
}
†† 
string
¢¢ 
fileName
¢¢ 
=
¢¢  !
request
¢¢" )
.
¢¢) *
File
¢¢* .
.
¢¢. /
FileName
¢¢/ 7
;
¢¢7 8
string
££ 
filePath
££ 
=
££  !
Path
££" &
.
££& '
Combine
££' .
(
££. /

folderName
££/ 9
,
££9 :
fileName
££; C
)
££C D
;
££D E
string
§§ 
ext
§§ 
=
§§ 
Path
§§  
.
§§  !
GetExtension
§§! -
(
§§- .
filePath
§§. 6
)
§§6 7
;
§§7 8
if
•• 
(
•• 
!
•• 
exts
•• 
.
•• 
Contains
•• "
(
••" #
ext
••# &
)
••& '
)
••' (
{
¶¶ 
return
ßß 

BadRequest
ßß %
(
ßß% &
$str
ßß& @
)
ßß@ A
;
ßßA B
}
®® 
using
≠≠ 
(
≠≠ 
var
≠≠ 

fileStream
≠≠ %
=
≠≠& '
new
≠≠( +

FileStream
≠≠, 6
(
≠≠6 7
filePath
≠≠7 ?
,
≠≠? @
FileMode
≠≠A I
.
≠≠I J
Create
≠≠J P
)
≠≠P Q
)
≠≠Q R
{
ÆÆ 
await
ØØ 
request
ØØ !
.
ØØ! "
File
ØØ" &
.
ØØ& '
CopyToAsync
ØØ' 2
(
ØØ2 3

fileStream
ØØ3 =
)
ØØ= >
;
ØØ> ?
}
∞∞ 
bool
≥≥ 
isValidLicense
≥≥ #
=
≥≥$ %
License
≥≥& -
.
≥≥- .
IsValidLicense
≥≥. <
(
≥≥< =
$str≥≥= ã
)≥≥ã å
;≥≥å ç
if
µµ 
(
µµ 
!
µµ 
isValidLicense
µµ #
)
µµ# $
{
∂∂ 
return
∑∑ 

BadRequest
∑∑ %
(
∑∑% &
$str
∑∑& 8
)
∑∑8 9
;
∑∑9 :
}
∏∏ 
var
ªª 
ocr
ªª 
=
ªª 
new
ªª 
IronTesseract
ªª +
(
ªª+ ,
)
ªª, -
;
ªª- .
using
ææ 
(
ææ 
var
ææ 
ocrInput
ææ #
=
ææ$ %
new
ææ& )
OcrInput
ææ* 2
(
ææ2 3
)
ææ3 4
)
ææ4 5
{
øø 
ocrInput
¿¿ 
.
¿¿ 
AddImage
¿¿ %
(
¿¿% &
filePath
¿¿& .
)
¿¿. /
;
¿¿/ 0
ocrInput
¡¡ 
.
¡¡ 
EnhanceResolution
¡¡ .
(
¡¡. /
)
¡¡/ 0
;
¡¡0 1
ocrInput
¬¬ 
.
¬¬ 
DeNoise
¬¬ $
(
¬¬$ %
)
¬¬% &
;
¬¬& '
var
ƒƒ 
	ocrResult
ƒƒ !
=
ƒƒ" #
ocr
ƒƒ$ '
.
ƒƒ' (
Read
ƒƒ( ,
(
ƒƒ, -
ocrInput
ƒƒ- 5
)
ƒƒ5 6
;
ƒƒ6 7
return
»» 
Ok
»» 
(
»» 
	ocrResult
»» '
.
»»' (
Text
»»( ,
)
»», -
;
»»- .
}
…… 
}
   
catch
ÀÀ 
(
ÀÀ 
	Exception
ÀÀ 
ex
ÀÀ 
)
ÀÀ  
{
ÃÃ 
return
ŒŒ 

StatusCode
ŒŒ !
(
ŒŒ! "
$num
ŒŒ" %
,
ŒŒ% &
$"
ŒŒ' )
$str
ŒŒ) @
{
ŒŒ@ A
ex
ŒŒA C
.
ŒŒC D
Message
ŒŒD K
}
ŒŒK L
"
ŒŒL M
)
ŒŒM N
;
ŒŒN O
}
œœ 
}
–– 	
[
”” 	
HttpGet
””	 
]
”” 
[
‘‘ 	
Route
‘‘	 
(
‘‘ 
$str
‘‘ 
)
‘‘ 
]
‘‘ 
public
÷÷ 
async
÷÷ 
Task
÷÷ 
<
÷÷ 
IActionResult
÷÷ '
>
÷÷' (
GetById
÷÷) 0
(
÷÷0 1
[
÷÷1 2
	FromRoute
÷÷2 ;
]
÷÷; <
string
÷÷= C
id
÷÷D F
)
÷÷F G
{
◊◊ 	
var
ŸŸ 

userDomain
ŸŸ 
=
ŸŸ 
await
ŸŸ "
userRepository
ŸŸ# 1
.
ŸŸ1 2
GetByIdAsync
ŸŸ2 >
(
ŸŸ> ?
id
ŸŸ? A
)
ŸŸA B
;
ŸŸB C
if
€€ 
(
€€ 

userDomain
€€ 
==
€€ 
null
€€ "
)
€€" #
{
‹‹ 
return
›› 
NotFound
›› 
(
››  
)
››  !
;
››! "
}
ﬁﬁ 
var
‡‡ 
userDto
‡‡ 
=
‡‡ 
mapper
‡‡  
.
‡‡  !
Map
‡‡! $
<
‡‡$ %
UserDto
‡‡% ,
>
‡‡, -
(
‡‡- .

userDomain
‡‡. 8
)
‡‡8 9
;
‡‡9 :
return
„„ 
Ok
„„ 
(
„„ 
userDto
„„ 
)
„„  
;
„„  !
}
ÊÊ 	
[
ËË 	
	NonAction
ËË	 
]
ËË 
public
ÍÍ 
void
ÍÍ 
SetFileSystem
ÍÍ !
(
ÍÍ! "
System
ÍÍ" (
.
ÍÍ( )
IO
ÍÍ) +
.
ÍÍ+ ,
Abstractions
ÍÍ, 8
.
ÍÍ8 9
IFileSystem
ÍÍ9 D
@object
ÍÍE L
)
ÍÍL M
{
ÎÎ 	
throw
ÏÏ 
new
ÏÏ %
NotImplementedException
ÏÏ -
(
ÏÏ- .
)
ÏÏ. /
;
ÏÏ/ 0
}
ÌÌ 	
}
ÓÓ 
}ÔÔ ùe
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Controllers\ImageController.cs
	namespace 	
Adhaar
 
. 
API 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ImageController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IMapper  
mapper! '
;' (
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
IUserRepository (
userRepository) 7
;7 8
private 
readonly 
IImageRepository )
imageRepository* 9
;9 :
private 
readonly 
ILogger  
<  !
ImageController! 0
>0 1
logger12 9
;9 :
public 
ImageController 
( 
IMapper &
mapper' -
,- .
AdhaarApiDbContext/ A
	dbContextB K
,K L
IUserRepositoryM \
userRepository] k
,k l
IImageRepositoryl |
imageRepository	} å
,
å ç
ILogger
ç î
<
î ï
ImageController
ï §
>
§ •
logger1
¶ ≠
)
≠ Æ
{ 	
this 
. 
mapper 
= 
mapper  
;  !
this 
. 
	dbContext 
= 
	dbContext &
;& '
this 
. 
userRepository 
=  !
userRepository" 0
;0 1
this 
. 
imageRepository  
=! "
imageRepository# 2
;2 3
this   
.   
logger1   
=   
logger1   "
;  " #
}!! 	
[## 	
HttpGet##	 
]## 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
GetAll&&) /
(&&/ 0
)&&0 1
{'' 	
logger1(( 
.(( 
LogInformation(( "
(((" #
$str((# K
)((K L
;((L M
var** 
imagesDomain** 
=** 
await** $
imageRepository**% 4
.**4 5
GetAllAsync**5 @
(**@ A
)**A B
;**B C
if++ 
(++ 
imagesDomain++ 
==++ 
null++  $
)++$ %
{,, 
return-- 
NotFound-- 
(--  
$str--  0
)--0 1
;--1 2
}.. 
logger122 
.22 
LogInformation22 "
(22" #
$"22# %
$str22% L
{22L M
JsonSerializer22M [
.22[ \
	Serialize22\ e
(22e f
imagesDomain22f r
)22r s
}22s t
"22t u
)22u v
;22v w
var44 
	imagesDto44 
=44 
mapper44 "
.44" #
Map44# &
<44& '
List44' +
<44+ ,
ImageDto44, 4
>444 5
>445 6
(446 7
imagesDomain447 C
)44C D
;44D E
return66 
Ok66 
(66 
	imagesDto66 
)66  
;66  !
}88 	
[== 	
HttpGet==	 
]== 
[>> 	
Route>>	 
(>> 
$str>> 
)>> 
]>> 
public@@ 
async@@ 
Task@@ 
<@@ 
IActionResult@@ '
>@@' (
GetById@@) 0
(@@0 1
[@@1 2
	FromRoute@@2 ;
]@@; <
string@@= C
id@@D F
)@@F G
{AA 	
varBB 

userDomainBB 
=BB 
awaitBB  
userRepositoryBB! /
.BB/ 0
GetByIdAsyncBB0 <
(BB< =
idBB= ?
)BB? @
;BB@ A
ifCC 
(CC 

userDomainCC 
==CC 
nullCC !
)CC! "
{DD 
returnEE 
NotFoundEE 
(EE  
$strEE  0
)EE0 1
;EE1 2
}FF 
varJJ 
imageDomainJJ 
=JJ 

userDomainJJ (
.JJ( )
ImageJJ) .
;JJ. /
ifKK 
(KK 
imageDomainKK 
==KK 
nullKK #
)KK# $
{LL 
returnMM 
NotFoundMM 
(MM  
$strMM  .
)MM. /
;MM/ 0
}NN 
varOO 
imageDtoOO 
=OO 
mapperOO !
.OO! "
MapOO" %
<OO% &
ImageDtoOO& .
>OO. /
(OO/ 0
imageDomainOO0 ;
)OO; <
;OO< =
returnRR 
OkRR 
(RR 
imageDtoRR 
)RR 
;RR  
}TT 	
[YY 	
HttpPostYY	 
]YY 
[ZZ 	
RouteZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Create]]) /
(]]/ 0
[]]0 1
	FromRoute]]1 :
]]]: ;
string]]< B
id]]C E
,]]E F
[]]F G
FromForm]]G O
]]]O P
AddImageRequestDto]]Q c
addImageRequestDto]]d v
)]]v w
{^^ 	
var`` 
imageDomainModel``  
=``! "
mapper``# )
.``) *
Map``* -
<``- .
ImageAd``. 5
>``5 6
(``6 7
addImageRequestDto``7 I
)``I J
;``J K
imageDomainModelbb 
=bb 
awaitbb $
imageRepositorybb% 4
.bb4 5
CreateAsyncbb5 @
(bb@ A
imageDomainModelbbA Q
)bbQ R
;bbR S
ifff 
(ff 
imageDomainModelff 
==ff  "
nullff# '
)ff' (
{gg 
returnhh 

BadRequesthh !
(hh! "
$strhh" H
)hhH I
;hhI J
}ii 
logger1kk 
.kk 
LogInformationkk "
(kk" #
$"kk# %
$strkk% 6
{kk6 7
imageDomainModelkk7 G
.kkG H
IdkkH J
}kkJ K
"kkK L
)kkL M
;kkM N
varmm 
usermm 
=mm 
userRepositorymm %
.mm% &
GetByIdAsyncmm& 2
(mm2 3
idmm3 5
)mm5 6
;mm6 7
ifnn 
(nn 
usernn 
==nn 
nullnn 
)nn 
{oo 
awaitpp 
imageRepositorypp %
.pp% &
DeleteAsyncpp& 1
(pp1 2
imageDomainModelpp2 B
.ppB C
IdppC E
)ppE F
;ppF G
returnqq 

BadRequestqq !
(qq! "
$strqq" 1
)qq1 2
;qq2 3
}rr 
stringtt 
?tt 
texttt 
=tt 
awaittt  
imageRepositorytt! 0
.tt0 1
OCRtt1 4
(tt4 5
imageDomainModeltt5 E
)ttE F
;ttF G
ifvv 
(vv 
textvv 
==vv 
nullvv 
)vv 
{ww 
awaitxx 
imageRepositoryxx %
.xx% &
DeleteAsyncxx& 1
(xx1 2
imageDomainModelxx2 B
.xxB C
IdxxC E
)xxE F
;xxF G
returnyy 

BadRequestyy !
(yy! "
$stryy" U
)yyU V
;yyV W
}{{ 
text|| 
=|| 
text|| 
.|| 
ToLower|| 
(||  
)||  !
;||! "
string 
[ 
] 
result 
= 
Regex #
.# $
Split$ )
() *
text* .
,. /
$str0 <
)< =
;= >
text
ÅÅ 
=
ÅÅ 
Regex
ÅÅ 
.
ÅÅ 
Replace
ÅÅ  
(
ÅÅ  !
text
ÅÅ! %
,
ÅÅ% &
$str
ÅÅ' -
,
ÅÅ- .
$str
ÅÅ/ 1
)
ÅÅ1 2
;
ÅÅ2 3
result
ÑÑ 
=
ÑÑ 
result
ÑÑ 
.
ÑÑ 
Where
ÑÑ !
(
ÑÑ! "
s
ÑÑ" #
=>
ÑÑ$ &
!
ÑÑ' (
string
ÑÑ( .
.
ÑÑ. / 
IsNullOrWhiteSpace
ÑÑ/ A
(
ÑÑA B
s
ÑÑB C
)
ÑÑC D
)
ÑÑD E
.
ÑÑE F
ToArray
ÑÑF M
(
ÑÑM N
)
ÑÑN O
;
ÑÑO P
foreach
àà 
(
àà 
string
àà 
word
àà  
in
àà! #
result
àà$ *
)
àà* +
{
ââ 
logger1
ää 
.
ää 
LogInformation
ää &
(
ää& '
word
ää' +
)
ää+ ,
;
ää, -
}
ãã 
logger1
èè 
.
èè 
LogInformation
èè "
(
èè" #
text
èè# '
)
èè' (
;
èè( )
if
üü 
(
üü 
result
üü 
.
üü 
Contains
üü 
(
üü  
imageDomainModel
üü  0
.
üü0 1
Address
üü1 8
.
üü8 9
ToLower
üü9 @
(
üü@ A
)
üüA B
)
üüB C
&&
†† 
result
†† 
.
†† 
Contains
†† "
(
††" #
imageDomainModel
††# 3
.
††3 4
State
††4 9
.
††9 :
ToLower
††: A
(
††A B
)
††B C
)
††C D
&&
°° 
result
°° 
.
°° 
Contains
°° "
(
°°" #
imageDomainModel
°°# 3
.
°°3 4
District
°°4 <
.
°°< =
ToLower
°°= D
(
°°D E
)
°°E F
)
°°F G
&&
§§ 
text
§§ 
.
§§ 
Contains
§§  
(
§§  !
imageDomainModel
§§! 1
.
§§1 2
UID
§§2 5
)
§§5 6
)
•• 
{
¶¶ 
var
ßß 
userDomainModel
ßß '
=
ßß( )
await
ßß* /
userRepository
ßß0 >
.
ßß> ?
UpdateAsync
ßß? J
(
ßßJ K
id
ßßK M
,
ßßM N
new
®® 
User
®®  
{
©© 
Id
™™ 
=
™™  
id
™™! #
,
™™# $
ImageId
´´ #
=
´´$ %
imageDomainModel
´´& 6
.
´´6 7
Id
´´7 9
,
´´9 :
Image
¨¨ !
=
¨¨" #
imageDomainModel
¨¨$ 4
}
ÆÆ 
)
ÆÆ 
;
ÆÆ 
var
ØØ 
userDto
ØØ 
=
ØØ 
mapper
ØØ $
.
ØØ$ %
Map
ØØ% (
<
ØØ( )
UserDto
ØØ) 0
>
ØØ0 1
(
ØØ1 2
userDomainModel
ØØ2 A
)
ØØA B
;
ØØB C
return
∞∞ 
Ok
∞∞ 
(
∞∞ 
userDto
∞∞ !
)
∞∞! "
;
∞∞" #
}
±± 
return
≥≥ 

BadRequest
≥≥ 
(
≥≥ 
$str
≥≥ 4
)
≥≥4 5
;
≥≥5 6
}
ºº 	
[
ŸŸ 	

HttpDelete
ŸŸ	 
]
ŸŸ 
[
⁄⁄ 	
Route
⁄⁄	 
(
⁄⁄ 
$str
⁄⁄ 
)
⁄⁄ 
]
⁄⁄ 
public
›› 
async
›› 
Task
›› 
<
›› 
IActionResult
›› '
>
››' (
Delete
››) /
(
››/ 0
[
››0 1
	FromRoute
››1 :
]
››: ;
Guid
››< @
id
››A C
)
››C D
{
ﬁﬁ 	
var
ﬂﬂ 
imageDomainModel
ﬂﬂ  
=
ﬂﬂ! "
await
ﬂﬂ# (
imageRepository
ﬂﬂ) 8
.
ﬂﬂ8 9
DeleteAsync
ﬂﬂ9 D
(
ﬂﬂD E
id
ﬂﬂE G
)
ﬂﬂG H
;
ﬂﬂH I
if
‡‡ 
(
‡‡ 
imageDomainModel
‡‡  
==
‡‡! #
null
‡‡$ (
)
‡‡( )
{
·· 
return
‚‚ 
NotFound
‚‚ 
(
‚‚  
)
‚‚  !
;
‚‚! "
}
„„ 
var
ÂÂ 
imageDto
ÂÂ 
=
ÂÂ 
mapper
ÂÂ !
.
ÂÂ! "
Map
ÂÂ" %
<
ÂÂ% &
ImageDto
ÂÂ& .
>
ÂÂ. /
(
ÂÂ/ 0
imageDomainModel
ÂÂ0 @
)
ÂÂ@ A
;
ÂÂA B
return
ÁÁ 
Ok
ÁÁ 
(
ÁÁ 
imageDto
ÁÁ 
)
ÁÁ 
;
ÁÁ  
}
ËË 	
}
ÏÏ 
}ÒÒ ¬
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Data\AdhaarApiAuthDbContext.cs
	namespace 	
Adhaar
 
. 
API 
. 
Data 
{ 
public 

class "
AdhaarApiAuthDbContext '
:' (
IdentityDbContext( 9
{ 
public		 "
AdhaarApiAuthDbContext		 %
(		% &
DbContextOptions		& 6
<		6 7"
AdhaarApiAuthDbContext		7 M
>		M N
options		O V
)		V W
:		X Y
base		Z ^
(		^ _
options		_ f
)		f g
{

 	
} 	
	protected 
override 
void #
OnModelCreating$ 3
(3 4
ModelBuilder4 @
builderA H
)H I
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
var 

userRoleId 
= 
$str C
;C D
var 
adminRoleId 
= 
$str D
;D E
var 
roles 
= 
new 
List  
<  !
IdentityRole! -
>- .
{ 
new 
IdentityRole  
{ 
Id 
= 

userRoleId !
,! "
ConcurrencyStamp $
=$ %

userRoleId% /
,/ 0
Name 
= 
$str 
,  
NormalizedName "
=" #
$str# )
.) *
ToUpper* 1
(1 2
)2 3
} 
, 
new 
IdentityRole  
{ 
Id 
= 
adminRoleId "
," #
ConcurrencyStamp $
=% &
adminRoleId& 1
,1 2
Name   
=   
$str    
,    !
NormalizedName!! "
=!!" #
$str!!# *
.!!* +
ToUpper!!+ 2
(!!2 3
)!!3 4
}"" 
}## 
;## 
builder%% 
.%% 
Entity%% 
<%% 
IdentityRole%% '
>%%' (
(%%( )
)%%) *
.%%* +
HasData%%+ 2
(%%2 3
roles%%3 8
)%%8 9
;%%9 :
}'' 	
}(( 
})) î

dC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Data\AdhaarApiDbContext.cs
	namespace 	
Adhaar
 
. 
API 
. 
Data 
{ 
public 

class 
AdhaarApiDbContext #
:# $
	DbContext$ -
{ 
public 
AdhaarApiDbContext !
(! "
DbContextOptions" 2
<2 3
AdhaarApiDbContext3 E
>E F
dbContextOptionsG W
)W X
:X Y
baseY ]
(] ^
dbContextOptions^ n
)n o
{		 	
} 	
public 
AdhaarApiDbContext !
(! "
)" #
:$ %
base& *
(* +
)+ ,
{ 	
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
virtual 
DbSet 
< 
ImageAd $
>$ %
Images& ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} î	
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Mappings\AutoMapperprofiles.cs
	namespace 	
Adhaar
 
. 
API 
. 
Mappings 
{ 
public 

class 
AutoMapperprofiles #
:# $
Profile$ +
{ 
public		 
AutoMapperprofiles		 !
(		! "
)		" #
{		$ %
	CreateMap 
< 
User 
, 
UserDto #
># $
($ %
)% &
.& '

ReverseMap' 1
(1 2
)2 3
;3 4
	CreateMap 
< 
ImageAd 
, 
ImageDto &
>& '
(' (
)( )
.) *

ReverseMap* 4
(4 5
)5 6
;6 7
	CreateMap 
< 
AddImageRequestDto (
,( )
ImageAd* 1
>1 2
(2 3
)3 4
.4 5

ReverseMap5 ?
(? @
)@ A
;A B
} 	
} 
} îW
xC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240116043457_Initial Migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
public		 

partial		 
class		 
InitialMigration		 )
:		* +
	Migration		, 5
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Age 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 D
,D E
nullableF N
:N O
trueP T
)T U
,U V
Phone 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Locality 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
District 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
State 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
UID 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 D
,D E
nullableF N
:N O
falseP U
)U V
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 0
,0 1
x2 3
=>4 6
x7 8
.8 9
Id9 ;
); <
;< =
}   
)   
;   
migrationBuilder"" 
."" 
CreateTable"" (
(""( )
name## 
:## 
$str## 
,## 
columns$$ 
:$$ 
table$$ 
=>$$ !
new$$" %
{%% 
Id&& 
=&& 
table&& 
.&& 
Column&& %
<&&% &
string&&& ,
>&&, -
(&&- .
type&&. 2
:&&2 3
$str&&4 C
,&&C D
nullable&&E M
:&&M N
false&&O T
)&&T U
,&&U V
ImageId'' 
='' 
table'' #
.''# $
Column''$ *
<''* +
Guid''+ /
>''/ 0
(''0 1
type''1 5
:''5 6
$str''7 I
,''I J
nullable''K S
:''S T
true''U Y
)''Y Z
,''Z [
UserName(( 
=(( 
table(( $
.(($ %
Column((% +
<((+ ,
string((, 2
>((2 3
(((3 4
type((4 8
:((8 9
$str((: I
,((I J
nullable((K S
:((S T
true((U Y
)((Y Z
,((Z [
NormalizedUserName)) &
=))' (
table))) .
.)). /
Column))/ 5
<))5 6
string))6 <
>))< =
())= >
type))> B
:))B C
$str))D S
,))S T
nullable))U ]
:))] ^
true))_ c
)))c d
,))d e
Email** 
=** 
table** !
.**! "
Column**" (
<**( )
string**) /
>**/ 0
(**0 1
type**1 5
:**5 6
$str**7 F
,**F G
nullable**H P
:**P Q
true**R V
)**V W
,**W X
NormalizedEmail++ #
=++$ %
table++& +
.+++ ,
Column++, 2
<++2 3
string++3 9
>++9 :
(++: ;
type++; ?
:++? @
$str++A P
,++P Q
nullable++R Z
:++Z [
true++\ `
)++` a
,++a b
EmailConfirmed,, "
=,,# $
table,,% *
.,,* +
Column,,+ 1
<,,1 2
bool,,2 6
>,,6 7
(,,7 8
type,,8 <
:,,< =
$str,,> C
,,,C D
nullable,,E M
:,,M N
false,,O T
),,T U
,,,U V
PasswordHash--  
=--! "
table--# (
.--( )
Column--) /
<--/ 0
string--0 6
>--6 7
(--7 8
type--8 <
:--< =
$str--> M
,--M N
nullable--O W
:--W X
true--Y ]
)--] ^
,--^ _
SecurityStamp.. !
=.." #
table..$ )
...) *
Column..* 0
<..0 1
string..1 7
>..7 8
(..8 9
type..9 =
:..= >
$str..? N
,..N O
nullable..P X
:..X Y
true..Z ^
)..^ _
,.._ `
ConcurrencyStamp// $
=//% &
table//' ,
.//, -
Column//- 3
<//3 4
string//4 :
>//: ;
(//; <
type//< @
://@ A
$str//B Q
,//Q R
nullable//S [
://[ \
true//] a
)//a b
,//b c
PhoneNumber00 
=00  !
table00" '
.00' (
Column00( .
<00. /
string00/ 5
>005 6
(006 7
type007 ;
:00; <
$str00= L
,00L M
nullable00N V
:00V W
true00X \
)00\ ]
,00] ^ 
PhoneNumberConfirmed11 (
=11) *
table11+ 0
.110 1
Column111 7
<117 8
bool118 <
>11< =
(11= >
type11> B
:11B C
$str11D I
,11I J
nullable11K S
:11S T
false11U Z
)11Z [
,11[ \
TwoFactorEnabled22 $
=22% &
table22' ,
.22, -
Column22- 3
<223 4
bool224 8
>228 9
(229 :
type22: >
:22> ?
$str22@ E
,22E F
nullable22G O
:22O P
false22Q V
)22V W
,22W X

LockoutEnd33 
=33  
table33! &
.33& '
Column33' -
<33- .
DateTimeOffset33. <
>33< =
(33= >
type33> B
:33B C
$str33D T
,33T U
nullable33V ^
:33^ _
true33` d
)33d e
,33e f
LockoutEnabled44 "
=44# $
table44% *
.44* +
Column44+ 1
<441 2
bool442 6
>446 7
(447 8
type448 <
:44< =
$str44> C
,44C D
nullable44E M
:44M N
false44O T
)44T U
,44U V
AccessFailedCount55 %
=55& '
table55( -
.55- .
Column55. 4
<554 5
int555 8
>558 9
(559 :
type55: >
:55> ?
$str55@ E
,55E F
nullable55G O
:55O P
false55Q V
)55V W
}66 
,66 
constraints77 
:77 
table77 "
=>77# %
{88 
table99 
.99 

PrimaryKey99 $
(99$ %
$str99% /
,99/ 0
x991 2
=>993 5
x996 7
.997 8
Id998 :
)99: ;
;99; <
table:: 
.:: 

ForeignKey:: $
(::$ %
name;; 
:;; 
$str;; 7
,;;7 8
column<< 
:<< 
x<<  !
=><<" $
x<<% &
.<<& '
ImageId<<' .
,<<. /
principalTable== &
:==& '
$str==( 0
,==0 1
principalColumn>> '
:>>' (
$str>>) -
)>>- .
;>>. /
}?? 
)?? 
;?? 
migrationBuilderAA 
.AA 
CreateIndexAA (
(AA( )
nameBB 
:BB 
$strBB (
,BB( )
tableCC 
:CC 
$strCC 
,CC 
columnDD 
:DD 
$strDD !
)DD! "
;DD" #
}EE 	
	protectedHH 
overrideHH 
voidHH 
DownHH  $
(HH$ %
MigrationBuilderHH% 5
migrationBuilderHH6 F
)HHF G
{II 	
migrationBuilderJJ 
.JJ 
	DropTableJJ &
(JJ& '
nameKK 
:KK 
$strKK 
)KK 
;KK 
migrationBuilderMM 
.MM 
	DropTableMM &
(MM& '
nameNN 
:NN 
$strNN 
)NN 
;NN  
}OO 	
}PP 
}QQ ´R
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240116045635_2nd Migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
public 

partial 
class 
_2ndMigration &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str 
,  
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str 
,  
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str 
,  
type   
:   
$str   %
,  % &
nullable!! 
:!! 
true!! 
,!! 

oldClrType"" 
:"" 
typeof"" "
(""" #
string""# )
)"") *
,""* +
oldType## 
:## 
$str## (
)##( )
;##) *
migrationBuilder%% 
.%% 
AlterColumn%% (
<%%( )
string%%) /
>%%/ 0
(%%0 1
name&& 
:&& 
$str&&  
,&&  !
table'' 
:'' 
$str'' 
,''  
type(( 
:(( 
$str(( %
,((% &
nullable)) 
:)) 
true)) 
,)) 

oldClrType** 
:** 
typeof** "
(**" #
string**# )
)**) *
,*** +
oldType++ 
:++ 
$str++ (
)++( )
;++) *
migrationBuilder-- 
.-- 
AlterColumn-- (
<--( )
string--) /
>--/ 0
(--0 1
name.. 
:.. 
$str.. !
,..! "
table// 
:// 
$str// 
,//  
type00 
:00 
$str00 %
,00% &
nullable11 
:11 
true11 
,11 

oldClrType22 
:22 
typeof22 "
(22" #
string22# )
)22) *
,22* +
oldType33 
:33 
$str33 (
)33( )
;33) *
migrationBuilder55 
.55 
AlterColumn55 (
<55( )
int55) ,
>55, -
(55- .
name66 
:66 
$str66 
,66 
table77 
:77 
$str77 
,77  
type88 
:88 
$str88 
,88 
nullable99 
:99 
true99 
,99 

oldClrType:: 
::: 
typeof:: "
(::" #
string::# )
)::) *
,::* +
oldType;; 
:;; 
$str;; (
,;;( )
oldNullable<< 
:<< 
true<< !
)<<! "
;<<" #
migrationBuilder>> 
.>> 
AlterColumn>> (
<>>( )
string>>) /
>>>/ 0
(>>0 1
name?? 
:?? 
$str?? 
,??  
table@@ 
:@@ 
$str@@ 
,@@  
typeAA 
:AA 
$strAA %
,AA% &
nullableBB 
:BB 
trueBB 
,BB 

oldClrTypeCC 
:CC 
typeofCC "
(CC" #
stringCC# )
)CC) *
,CC* +
oldTypeDD 
:DD 
$strDD (
)DD( )
;DD) *
}EE 	
	protectedHH 
overrideHH 
voidHH 
DownHH  $
(HH$ %
MigrationBuilderHH% 5
migrationBuilderHH6 F
)HHF G
{II 	
migrationBuilderJJ 
.JJ 
AlterColumnJJ (
<JJ( )
stringJJ) /
>JJ/ 0
(JJ0 1
nameKK 
:KK 
$strKK 
,KK 
tableLL 
:LL 
$strLL 
,LL  
typeMM 
:MM 
$strMM %
,MM% &
nullableNN 
:NN 
falseNN 
,NN  
defaultValueOO 
:OO 
$strOO  
,OO  !

oldClrTypePP 
:PP 
typeofPP "
(PP" #
stringPP# )
)PP) *
,PP* +
oldTypeQQ 
:QQ 
$strQQ (
,QQ( )
oldNullableRR 
:RR 
trueRR !
)RR! "
;RR" #
migrationBuilderTT 
.TT 
AlterColumnTT (
<TT( )
stringTT) /
>TT/ 0
(TT0 1
nameUU 
:UU 
$strUU 
,UU 
tableVV 
:VV 
$strVV 
,VV  
typeWW 
:WW 
$strWW %
,WW% &
nullableXX 
:XX 
falseXX 
,XX  
defaultValueYY 
:YY 
$strYY  
,YY  !

oldClrTypeZZ 
:ZZ 
typeofZZ "
(ZZ" #
stringZZ# )
)ZZ) *
,ZZ* +
oldType[[ 
:[[ 
$str[[ (
,[[( )
oldNullable\\ 
:\\ 
true\\ !
)\\! "
;\\" #
migrationBuilder^^ 
.^^ 
AlterColumn^^ (
<^^( )
string^^) /
>^^/ 0
(^^0 1
name__ 
:__ 
$str__ 
,__ 
table`` 
:`` 
$str`` 
,``  
typeaa 
:aa 
$straa %
,aa% &
nullablebb 
:bb 
falsebb 
,bb  
defaultValuecc 
:cc 
$strcc  
,cc  !

oldClrTypedd 
:dd 
typeofdd "
(dd" #
stringdd# )
)dd) *
,dd* +
oldTypeee 
:ee 
$stree (
,ee( )
oldNullableff 
:ff 
trueff !
)ff! "
;ff" #
migrationBuilderhh 
.hh 
AlterColumnhh (
<hh( )
stringhh) /
>hh/ 0
(hh0 1
nameii 
:ii 
$strii  
,ii  !
tablejj 
:jj 
$strjj 
,jj  
typekk 
:kk 
$strkk %
,kk% &
nullablell 
:ll 
falsell 
,ll  
defaultValuemm 
:mm 
$strmm  
,mm  !

oldClrTypenn 
:nn 
typeofnn "
(nn" #
stringnn# )
)nn) *
,nn* +
oldTypeoo 
:oo 
$stroo (
,oo( )
oldNullablepp 
:pp 
truepp !
)pp! "
;pp" #
migrationBuilderrr 
.rr 
AlterColumnrr (
<rr( )
stringrr) /
>rr/ 0
(rr0 1
namess 
:ss 
$strss !
,ss! "
tablett 
:tt 
$strtt 
,tt  
typeuu 
:uu 
$struu %
,uu% &
nullablevv 
:vv 
falsevv 
,vv  
defaultValueww 
:ww 
$strww  
,ww  !

oldClrTypexx 
:xx 
typeofxx "
(xx" #
stringxx# )
)xx) *
,xx* +
oldTypeyy 
:yy 
$stryy (
,yy( )
oldNullablezz 
:zz 
truezz !
)zz! "
;zz" #
migrationBuilder|| 
.|| 
AlterColumn|| (
<||( )
string||) /
>||/ 0
(||0 1
name}} 
:}} 
$str}} 
,}} 
table~~ 
:~~ 
$str~~ 
,~~  
type 
: 
$str %
,% &
nullable
ÄÄ 
:
ÄÄ 
true
ÄÄ 
,
ÄÄ 

oldClrType
ÅÅ 
:
ÅÅ 
typeof
ÅÅ "
(
ÅÅ" #
int
ÅÅ# &
)
ÅÅ& '
,
ÅÅ' (
oldType
ÇÇ 
:
ÇÇ 
$str
ÇÇ 
,
ÇÇ 
oldNullable
ÉÉ 
:
ÉÉ 
true
ÉÉ !
)
ÉÉ! "
;
ÉÉ" #
migrationBuilder
ÖÖ 
.
ÖÖ 
AlterColumn
ÖÖ (
<
ÖÖ( )
string
ÖÖ) /
>
ÖÖ/ 0
(
ÖÖ0 1
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ 
,
ÜÜ  
table
áá 
:
áá 
$str
áá 
,
áá  
type
àà 
:
àà 
$str
àà %
,
àà% &
nullable
ââ 
:
ââ 
false
ââ 
,
ââ  
defaultValue
ää 
:
ää 
$str
ää  
,
ää  !

oldClrType
ãã 
:
ãã 
typeof
ãã "
(
ãã" #
string
ãã# )
)
ãã) *
,
ãã* +
oldType
åå 
:
åå 
$str
åå (
,
åå( )
oldNullable
çç 
:
çç 
true
çç !
)
çç! "
;
çç" #
}
éé 	
}
èè 
}êê ™
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\20240126081729_new migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
{ 
public 

partial 
class 
newmigration %
:& '
	Migration( 1
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} øŒ
ÑC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\AdhaarApiAuthDb\20240116043547_2nd Migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
.  
AdhaarApiAuthDb  /
{		 
public 

partial 
class 
_2ndMigration &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns   
:   
table   
=>   !
new  " %
{!! 
Id"" 
="" 
table"" 
."" 
Column"" %
<""% &
string""& ,
>"", -
(""- .
type"". 2
:""2 3
$str""4 C
,""C D
nullable""E M
:""M N
false""O T
)""T U
,""U V
UserName## 
=## 
table## $
.##$ %
Column##% +
<##+ ,
string##, 2
>##2 3
(##3 4
type##4 8
:##8 9
$str##: I
,##I J
	maxLength##K T
:##T U
$num##V Y
,##Y Z
nullable##[ c
:##c d
true##e i
)##i j
,##j k
NormalizedUserName$$ &
=$$' (
table$$) .
.$$. /
Column$$/ 5
<$$5 6
string$$6 <
>$$< =
($$= >
type$$> B
:$$B C
$str$$D S
,$$S T
	maxLength$$U ^
:$$^ _
$num$$` c
,$$c d
nullable$$e m
:$$m n
true$$o s
)$$s t
,$$t u
Email%% 
=%% 
table%% !
.%%! "
Column%%" (
<%%( )
string%%) /
>%%/ 0
(%%0 1
type%%1 5
:%%5 6
$str%%7 F
,%%F G
	maxLength%%H Q
:%%Q R
$num%%S V
,%%V W
nullable%%X `
:%%` a
true%%b f
)%%f g
,%%g h
NormalizedEmail&& #
=&&$ %
table&&& +
.&&+ ,
Column&&, 2
<&&2 3
string&&3 9
>&&9 :
(&&: ;
type&&; ?
:&&? @
$str&&A P
,&&P Q
	maxLength&&R [
:&&[ \
$num&&] `
,&&` a
nullable&&b j
:&&j k
true&&l p
)&&p q
,&&q r
EmailConfirmed'' "
=''# $
table''% *
.''* +
Column''+ 1
<''1 2
bool''2 6
>''6 7
(''7 8
type''8 <
:''< =
$str''> C
,''C D
nullable''E M
:''M N
false''O T
)''T U
,''U V
PasswordHash((  
=((! "
table((# (
.((( )
Column(() /
<((/ 0
string((0 6
>((6 7
(((7 8
type((8 <
:((< =
$str((> M
,((M N
nullable((O W
:((W X
true((Y ]
)((] ^
,((^ _
SecurityStamp)) !
=))" #
table))$ )
.))) *
Column))* 0
<))0 1
string))1 7
>))7 8
())8 9
type))9 =
:))= >
$str))? N
,))N O
nullable))P X
:))X Y
true))Z ^
)))^ _
,))_ `
ConcurrencyStamp** $
=**% &
table**' ,
.**, -
Column**- 3
<**3 4
string**4 :
>**: ;
(**; <
type**< @
:**@ A
$str**B Q
,**Q R
nullable**S [
:**[ \
true**] a
)**a b
,**b c
PhoneNumber++ 
=++  !
table++" '
.++' (
Column++( .
<++. /
string++/ 5
>++5 6
(++6 7
type++7 ;
:++; <
$str++= L
,++L M
nullable++N V
:++V W
true++X \
)++\ ]
,++] ^ 
PhoneNumberConfirmed,, (
=,,) *
table,,+ 0
.,,0 1
Column,,1 7
<,,7 8
bool,,8 <
>,,< =
(,,= >
type,,> B
:,,B C
$str,,D I
,,,I J
nullable,,K S
:,,S T
false,,U Z
),,Z [
,,,[ \
TwoFactorEnabled-- $
=--% &
table--' ,
.--, -
Column--- 3
<--3 4
bool--4 8
>--8 9
(--9 :
type--: >
:--> ?
$str--@ E
,--E F
nullable--G O
:--O P
false--Q V
)--V W
,--W X

LockoutEnd.. 
=..  
table..! &
...& '
Column..' -
<..- .
DateTimeOffset... <
>..< =
(..= >
type..> B
:..B C
$str..D T
,..T U
nullable..V ^
:..^ _
true..` d
)..d e
,..e f
LockoutEnabled// "
=//# $
table//% *
.//* +
Column//+ 1
<//1 2
bool//2 6
>//6 7
(//7 8
type//8 <
://< =
$str//> C
,//C D
nullable//E M
://M N
false//O T
)//T U
,//U V
AccessFailedCount00 %
=00& '
table00( -
.00- .
Column00. 4
<004 5
int005 8
>008 9
(009 :
type00: >
:00> ?
$str00@ E
,00E F
nullable00G O
:00O P
false00Q V
)00V W
}11 
,11 
constraints22 
:22 
table22 "
=>22# %
{33 
table44 
.44 

PrimaryKey44 $
(44$ %
$str44% 5
,445 6
x447 8
=>449 ;
x44< =
.44= >
Id44> @
)44@ A
;44A B
}55 
)55 
;55 
migrationBuilder77 
.77 
CreateTable77 (
(77( )
name88 
:88 
$str88 (
,88( )
columns99 
:99 
table99 
=>99 !
new99" %
{:: 
Id;; 
=;; 
table;; 
.;; 
Column;; %
<;;% &
int;;& )
>;;) *
(;;* +
type;;+ /
:;;/ 0
$str;;1 6
,;;6 7
nullable;;8 @
:;;@ A
false;;B G
);;G H
.<< 

Annotation<< #
(<<# $
$str<<$ 8
,<<8 9
$str<<: @
)<<@ A
,<<A B
RoleId== 
=== 
table== "
.==" #
Column==# )
<==) *
string==* 0
>==0 1
(==1 2
type==2 6
:==6 7
$str==8 G
,==G H
nullable==I Q
:==Q R
false==S X
)==X Y
,==Y Z
	ClaimType>> 
=>> 
table>>  %
.>>% &
Column>>& ,
<>>, -
string>>- 3
>>>3 4
(>>4 5
type>>5 9
:>>9 :
$str>>; J
,>>J K
nullable>>L T
:>>T U
true>>V Z
)>>Z [
,>>[ \

ClaimValue?? 
=??  
table??! &
.??& '
Column??' -
<??- .
string??. 4
>??4 5
(??5 6
type??6 :
:??: ;
$str??< K
,??K L
nullable??M U
:??U V
true??W [
)??[ \
}@@ 
,@@ 
constraintsAA 
:AA 
tableAA "
=>AA# %
{BB 
tableCC 
.CC 

PrimaryKeyCC $
(CC$ %
$strCC% :
,CC: ;
xCC< =
=>CC> @
xCCA B
.CCB C
IdCCC E
)CCE F
;CCF G
tableDD 
.DD 

ForeignKeyDD $
(DD$ %
nameEE 
:EE 
$strEE F
,EEF G
columnFF 
:FF 
xFF  !
=>FF" $
xFF% &
.FF& '
RoleIdFF' -
,FF- .
principalTableGG &
:GG& '
$strGG( 5
,GG5 6
principalColumnHH '
:HH' (
$strHH) -
,HH- .
onDeleteII  
:II  !
ReferentialActionII" 3
.II3 4
CascadeII4 ;
)II; <
;II< =
}JJ 
)JJ 
;JJ 
migrationBuilderLL 
.LL 
CreateTableLL (
(LL( )
nameMM 
:MM 
$strMM (
,MM( )
columnsNN 
:NN 
tableNN 
=>NN !
newNN" %
{OO 
IdPP 
=PP 
tablePP 
.PP 
ColumnPP %
<PP% &
intPP& )
>PP) *
(PP* +
typePP+ /
:PP/ 0
$strPP1 6
,PP6 7
nullablePP8 @
:PP@ A
falsePPB G
)PPG H
.QQ 

AnnotationQQ #
(QQ# $
$strQQ$ 8
,QQ8 9
$strQQ: @
)QQ@ A
,QQA B
UserIdRR 
=RR 
tableRR "
.RR" #
ColumnRR# )
<RR) *
stringRR* 0
>RR0 1
(RR1 2
typeRR2 6
:RR6 7
$strRR8 G
,RRG H
nullableRRI Q
:RRQ R
falseRRS X
)RRX Y
,RRY Z
	ClaimTypeSS 
=SS 
tableSS  %
.SS% &
ColumnSS& ,
<SS, -
stringSS- 3
>SS3 4
(SS4 5
typeSS5 9
:SS9 :
$strSS; J
,SSJ K
nullableSSL T
:SST U
trueSSV Z
)SSZ [
,SS[ \

ClaimValueTT 
=TT  
tableTT! &
.TT& '
ColumnTT' -
<TT- .
stringTT. 4
>TT4 5
(TT5 6
typeTT6 :
:TT: ;
$strTT< K
,TTK L
nullableTTM U
:TTU V
trueTTW [
)TT[ \
}UU 
,UU 
constraintsVV 
:VV 
tableVV "
=>VV# %
{WW 
tableXX 
.XX 

PrimaryKeyXX $
(XX$ %
$strXX% :
,XX: ;
xXX< =
=>XX> @
xXXA B
.XXB C
IdXXC E
)XXE F
;XXF G
tableYY 
.YY 

ForeignKeyYY $
(YY$ %
nameZZ 
:ZZ 
$strZZ F
,ZZF G
column[[ 
:[[ 
x[[  !
=>[[" $
x[[% &
.[[& '
UserId[[' -
,[[- .
principalTable\\ &
:\\& '
$str\\( 5
,\\5 6
principalColumn]] '
:]]' (
$str]]) -
,]]- .
onDelete^^  
:^^  !
ReferentialAction^^" 3
.^^3 4
Cascade^^4 ;
)^^; <
;^^< =
}__ 
)__ 
;__ 
migrationBuilderaa 
.aa 
CreateTableaa (
(aa( )
namebb 
:bb 
$strbb (
,bb( )
columnscc 
:cc 
tablecc 
=>cc !
newcc" %
{dd 
LoginProvideree !
=ee" #
tableee$ )
.ee) *
Columnee* 0
<ee0 1
stringee1 7
>ee7 8
(ee8 9
typeee9 =
:ee= >
$stree? N
,eeN O
nullableeeP X
:eeX Y
falseeeZ _
)ee_ `
,ee` a
ProviderKeyff 
=ff  !
tableff" '
.ff' (
Columnff( .
<ff. /
stringff/ 5
>ff5 6
(ff6 7
typeff7 ;
:ff; <
$strff= L
,ffL M
nullableffN V
:ffV W
falseffX ]
)ff] ^
,ff^ _
ProviderDisplayNamegg '
=gg( )
tablegg* /
.gg/ 0
Columngg0 6
<gg6 7
stringgg7 =
>gg= >
(gg> ?
typegg? C
:ggC D
$strggE T
,ggT U
nullableggV ^
:gg^ _
truegg` d
)ggd e
,gge f
UserIdhh 
=hh 
tablehh "
.hh" #
Columnhh# )
<hh) *
stringhh* 0
>hh0 1
(hh1 2
typehh2 6
:hh6 7
$strhh8 G
,hhG H
nullablehhI Q
:hhQ R
falsehhS X
)hhX Y
}ii 
,ii 
constraintsjj 
:jj 
tablejj "
=>jj# %
{kk 
tablell 
.ll 

PrimaryKeyll $
(ll$ %
$strll% :
,ll: ;
xll< =
=>ll> @
newllA D
{llE F
xllG H
.llH I
LoginProviderllI V
,llV W
xllX Y
.llY Z
ProviderKeyllZ e
}llf g
)llg h
;llh i
tablemm 
.mm 

ForeignKeymm $
(mm$ %
namenn 
:nn 
$strnn F
,nnF G
columnoo 
:oo 
xoo  !
=>oo" $
xoo% &
.oo& '
UserIdoo' -
,oo- .
principalTablepp &
:pp& '
$strpp( 5
,pp5 6
principalColumnqq '
:qq' (
$strqq) -
,qq- .
onDeleterr  
:rr  !
ReferentialActionrr" 3
.rr3 4
Cascaderr4 ;
)rr; <
;rr< =
}ss 
)ss 
;ss 
migrationBuilderuu 
.uu 
CreateTableuu (
(uu( )
namevv 
:vv 
$strvv '
,vv' (
columnsww 
:ww 
tableww 
=>ww !
newww" %
{xx 
UserIdyy 
=yy 
tableyy "
.yy" #
Columnyy# )
<yy) *
stringyy* 0
>yy0 1
(yy1 2
typeyy2 6
:yy6 7
$stryy8 G
,yyG H
nullableyyI Q
:yyQ R
falseyyS X
)yyX Y
,yyY Z
RoleIdzz 
=zz 
tablezz "
.zz" #
Columnzz# )
<zz) *
stringzz* 0
>zz0 1
(zz1 2
typezz2 6
:zz6 7
$strzz8 G
,zzG H
nullablezzI Q
:zzQ R
falsezzS X
)zzX Y
}{{ 
,{{ 
constraints|| 
:|| 
table|| "
=>||# %
{}} 
table~~ 
.~~ 

PrimaryKey~~ $
(~~$ %
$str~~% 9
,~~9 :
x~~; <
=>~~= ?
new~~@ C
{~~D E
x~~F G
.~~G H
UserId~~H N
,~~N O
x~~P Q
.~~Q R
RoleId~~R X
}~~Y Z
)~~Z [
;~~[ \
table 
. 

ForeignKey $
($ %
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ E
,
ÄÄE F
column
ÅÅ 
:
ÅÅ 
x
ÅÅ  !
=>
ÅÅ" $
x
ÅÅ% &
.
ÅÅ& '
RoleId
ÅÅ' -
,
ÅÅ- .
principalTable
ÇÇ &
:
ÇÇ& '
$str
ÇÇ( 5
,
ÇÇ5 6
principalColumn
ÉÉ '
:
ÉÉ' (
$str
ÉÉ) -
,
ÉÉ- .
onDelete
ÑÑ  
:
ÑÑ  !
ReferentialAction
ÑÑ" 3
.
ÑÑ3 4
Cascade
ÑÑ4 ;
)
ÑÑ; <
;
ÑÑ< =
table
ÖÖ 
.
ÖÖ 

ForeignKey
ÖÖ $
(
ÖÖ$ %
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ E
,
ÜÜE F
column
áá 
:
áá 
x
áá  !
=>
áá" $
x
áá% &
.
áá& '
UserId
áá' -
,
áá- .
principalTable
àà &
:
àà& '
$str
àà( 5
,
àà5 6
principalColumn
ââ '
:
ââ' (
$str
ââ) -
,
ââ- .
onDelete
ää  
:
ää  !
ReferentialAction
ää" 3
.
ää3 4
Cascade
ää4 ;
)
ää; <
;
ää< =
}
ãã 
)
ãã 
;
ãã 
migrationBuilder
çç 
.
çç 
CreateTable
çç (
(
çç( )
name
éé 
:
éé 
$str
éé (
,
éé( )
columns
èè 
:
èè 
table
èè 
=>
èè !
new
èè" %
{
êê 
UserId
ëë 
=
ëë 
table
ëë "
.
ëë" #
Column
ëë# )
<
ëë) *
string
ëë* 0
>
ëë0 1
(
ëë1 2
type
ëë2 6
:
ëë6 7
$str
ëë8 G
,
ëëG H
nullable
ëëI Q
:
ëëQ R
false
ëëS X
)
ëëX Y
,
ëëY Z
LoginProvider
íí !
=
íí" #
table
íí$ )
.
íí) *
Column
íí* 0
<
íí0 1
string
íí1 7
>
íí7 8
(
íí8 9
type
íí9 =
:
íí= >
$str
íí? N
,
ííN O
nullable
ííP X
:
ííX Y
false
ííZ _
)
íí_ `
,
íí` a
Name
ìì 
=
ìì 
table
ìì  
.
ìì  !
Column
ìì! '
<
ìì' (
string
ìì( .
>
ìì. /
(
ìì/ 0
type
ìì0 4
:
ìì4 5
$str
ìì6 E
,
ììE F
nullable
ììG O
:
ììO P
false
ììQ V
)
ììV W
,
ììW X
Value
îî 
=
îî 
table
îî !
.
îî! "
Column
îî" (
<
îî( )
string
îî) /
>
îî/ 0
(
îî0 1
type
îî1 5
:
îî5 6
$str
îî7 F
,
îîF G
nullable
îîH P
:
îîP Q
true
îîR V
)
îîV W
}
ïï 
,
ïï 
constraints
ññ 
:
ññ 
table
ññ "
=>
ññ# %
{
óó 
table
òò 
.
òò 

PrimaryKey
òò $
(
òò$ %
$str
òò% :
,
òò: ;
x
òò< =
=>
òò> @
new
òòA D
{
òòE F
x
òòG H
.
òòH I
UserId
òòI O
,
òòO P
x
òòQ R
.
òòR S
LoginProvider
òòS `
,
òò` a
x
òòb c
.
òòc d
Name
òòd h
}
òòi j
)
òòj k
;
òòk l
table
ôô 
.
ôô 

ForeignKey
ôô $
(
ôô$ %
name
öö 
:
öö 
$str
öö F
,
ööF G
column
õõ 
:
õõ 
x
õõ  !
=>
õõ" $
x
õõ% &
.
õõ& '
UserId
õõ' -
,
õõ- .
principalTable
úú &
:
úú& '
$str
úú( 5
,
úú5 6
principalColumn
ùù '
:
ùù' (
$str
ùù) -
,
ùù- .
onDelete
ûû  
:
ûû  !
ReferentialAction
ûû" 3
.
ûû3 4
Cascade
ûû4 ;
)
ûû; <
;
ûû< =
}
üü 
)
üü 
;
üü 
migrationBuilder
°° 
.
°° 

InsertData
°° '
(
°°' (
table
¢¢ 
:
¢¢ 
$str
¢¢ $
,
¢¢$ %
columns
££ 
:
££ 
new
££ 
[
££ 
]
££ 
{
££  
$str
££! %
,
££% &
$str
££' 9
,
££9 :
$str
££; A
,
££A B
$str
££C S
}
££T U
,
££U V
values
§§ 
:
§§ 
new
§§ 
object
§§ "
[
§§" #
,
§§# $
]
§§$ %
{
•• 
{
¶¶ 
$str
¶¶ <
,
¶¶< =
$str
¶¶> d
,
¶¶d e
$str
¶¶f m
,
¶¶m n
$str
¶¶o v
}
¶¶w x
,
¶¶x y
{
ßß 
$str
ßß <
,
ßß< =
$str
ßß> d
,
ßßd e
$str
ßßf l
,
ßßl m
$str
ßßn t
}
ßßu v
}
®® 
)
®® 
;
®® 
migrationBuilder
™™ 
.
™™ 
CreateIndex
™™ (
(
™™( )
name
´´ 
:
´´ 
$str
´´ 2
,
´´2 3
table
¨¨ 
:
¨¨ 
$str
¨¨ )
,
¨¨) *
column
≠≠ 
:
≠≠ 
$str
≠≠  
)
≠≠  !
;
≠≠! "
migrationBuilder
ØØ 
.
ØØ 
CreateIndex
ØØ (
(
ØØ( )
name
∞∞ 
:
∞∞ 
$str
∞∞ %
,
∞∞% &
table
±± 
:
±± 
$str
±± $
,
±±$ %
column
≤≤ 
:
≤≤ 
$str
≤≤ (
,
≤≤( )
unique
≥≥ 
:
≥≥ 
true
≥≥ 
,
≥≥ 
filter
¥¥ 
:
¥¥ 
$str
¥¥ 6
)
¥¥6 7
;
¥¥7 8
migrationBuilder
∂∂ 
.
∂∂ 
CreateIndex
∂∂ (
(
∂∂( )
name
∑∑ 
:
∑∑ 
$str
∑∑ 2
,
∑∑2 3
table
∏∏ 
:
∏∏ 
$str
∏∏ )
,
∏∏) *
column
ππ 
:
ππ 
$str
ππ  
)
ππ  !
;
ππ! "
migrationBuilder
ªª 
.
ªª 
CreateIndex
ªª (
(
ªª( )
name
ºº 
:
ºº 
$str
ºº 2
,
ºº2 3
table
ΩΩ 
:
ΩΩ 
$str
ΩΩ )
,
ΩΩ) *
column
ææ 
:
ææ 
$str
ææ  
)
ææ  !
;
ææ! "
migrationBuilder
¿¿ 
.
¿¿ 
CreateIndex
¿¿ (
(
¿¿( )
name
¡¡ 
:
¡¡ 
$str
¡¡ 1
,
¡¡1 2
table
¬¬ 
:
¬¬ 
$str
¬¬ (
,
¬¬( )
column
√√ 
:
√√ 
$str
√√  
)
√√  !
;
√√! "
migrationBuilder
≈≈ 
.
≈≈ 
CreateIndex
≈≈ (
(
≈≈( )
name
∆∆ 
:
∆∆ 
$str
∆∆ "
,
∆∆" #
table
«« 
:
«« 
$str
«« $
,
««$ %
column
»» 
:
»» 
$str
»» )
)
»») *
;
»»* +
migrationBuilder
   
.
   
CreateIndex
   (
(
  ( )
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ %
,
ÀÀ% &
table
ÃÃ 
:
ÃÃ 
$str
ÃÃ $
,
ÃÃ$ %
column
ÕÕ 
:
ÕÕ 
$str
ÕÕ ,
,
ÕÕ, -
unique
ŒŒ 
:
ŒŒ 
true
ŒŒ 
,
ŒŒ 
filter
œœ 
:
œœ 
$str
œœ :
)
œœ: ;
;
œœ; <
}
–– 	
	protected
”” 
override
”” 
void
”” 
Down
””  $
(
””$ %
MigrationBuilder
””% 5
migrationBuilder
””6 F
)
””F G
{
‘‘ 	
migrationBuilder
’’ 
.
’’ 
	DropTable
’’ &
(
’’& '
name
÷÷ 
:
÷÷ 
$str
÷÷ (
)
÷÷( )
;
÷÷) *
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ (
)
ŸŸ( )
;
ŸŸ) *
migrationBuilder
€€ 
.
€€ 
	DropTable
€€ &
(
€€& '
name
‹‹ 
:
‹‹ 
$str
‹‹ (
)
‹‹( )
;
‹‹) *
migrationBuilder
ﬁﬁ 
.
ﬁﬁ 
	DropTable
ﬁﬁ &
(
ﬁﬁ& '
name
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ '
)
ﬂﬂ' (
;
ﬂﬂ( )
migrationBuilder
·· 
.
·· 
	DropTable
·· &
(
··& '
name
‚‚ 
:
‚‚ 
$str
‚‚ (
)
‚‚( )
;
‚‚) *
migrationBuilder
‰‰ 
.
‰‰ 
	DropTable
‰‰ &
(
‰‰& '
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ #
)
ÂÂ# $
;
ÂÂ$ %
migrationBuilder
ÁÁ 
.
ÁÁ 
	DropTable
ÁÁ &
(
ÁÁ& '
name
ËË 
:
ËË 
$str
ËË #
)
ËË# $
;
ËË$ %
}
ÈÈ 	
}
ÍÍ 
}ÎÎ Á
ÑC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Migrations\AdhaarApiAuthDb\20240126081747_new migration.cs
	namespace 	
Adhaar
 
. 
API 
. 

Migrations 
.  
AdhaarApiAuthDb  /
{ 
public 

partial 
class 
newmigration %
:& '
	Migration( 1
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ⁄
bC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\Domain\ImageAd.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
Domain "
{ 
public 

class 
ImageAd 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public 
string 
? 
	FirstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Age 
{ 
get 
; 
set "
;" #
}$ %
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
? 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
Locality 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
District 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
State 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
UID 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
	NotMapped	 
] 
public!! 
	IFormFile!! 
?!! 
File!! 
{!!  
get!!! $
;!!$ %
set!!& )
;!!) *
}!!+ ,
}%% 
}&& €
_C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\Domain\User.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
Domain "
{ 
public 

class 
User 
: 
IdentityUser "
{ 
public

 
Guid

 
?

 
ImageId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
ImageAd 
? 
Image 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ã
jC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\AddImageRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
AddImageRequestDto #
{ 
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public

 
string

 
LastName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Age 
{ 
get 
; 
set !
;! "
}# $
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Locality 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
District 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
UID 
{ 
get 
;  
set! $
;$ %
}& '
public 
	IFormFile 
File 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ÷
`C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\ImageDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
ImageDto 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public

 
string

 
?

 
	FirstName

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Age 
{ 
get 
; 
set "
;" #
}$ %
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
? 
Phone 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Locality 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
District 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
State 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
UID 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
	NotMapped	 
] 
public   
	IFormFile   
?   
File   
{    
get  ! $
;  $ %
set  & )
;  ) *
}  + ,
}"" 
}## Ø
gC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\LoginRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginRequestDto  
{ 
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
public		 
string		 
Username		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} á
hC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\LoginResponseDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginResponseDto !
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
List 
< 
string 
> 
Roles !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
JwtToken 
{  
get! $
;$ %
set& )
;) *
}+ ,
}		 
}

 Ó
nC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\RegisterUserRequestDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class "
RegisterUserRequestDto '
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public

 
string

 
[

 
]

 
Roles

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
} 
} »
_C:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Models\DTO\UserDto.cs
	namespace 	
Adhaar
 
. 
API 
. 
Models 
. 
DTO 
{ 
public 

class 
UserDto 
{ 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
Guid 
? 
ImageId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
ImageAd 
? 
Image 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ˚T
TC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
var 
logger 

= 
new 
LoggerConfiguration $
($ %
)% &
. 
WriteTo 
. 
Console 
( 
) 
. 
WriteTo 
. 
File 
( 
$str #
,# $
rollingInterval% 4
:4 5
RollingInterval6 E
.E F
DayF I
)I J
. 
MinimumLevel 
. 
Information 
( 
) 
. 
CreateLogger 
( 
) 
; 
builder 
. 
Logging 
. 
ClearProviders 
( 
)  
;  !
builder 
. 
Logging 
. 

AddSerilog 
( 
logger !
)! "
;" #
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
options &
=>' )
{ 
options   
.   

SwaggerDoc   
(   
$str   
,   
new    
OpenApiInfo  ! ,
{!! 
Title"" 
="" 
$str"" 
,"" 
Version## 
=## 
$str## 
}$$ 
)$$ 
;$$ 
options%% 
.%% !
AddSecurityDefinition%% !
(%%! "
JwtBearerDefaults%%" 3
.%%3 4 
AuthenticationScheme%%4 H
,%%H I
new%%J M!
OpenApiSecurityScheme%%N c
{&& 
Name'' 
='' 
$str'' 
,'' 
In(( 

=(( 
ParameterLocation(( 
.(( 
Header(( %
,((% &
Type)) 
=)) 
SecuritySchemeType)) !
.))! "
ApiKey))" (
,))( )
Scheme** 
=** 
JwtBearerDefaults** "
.**" # 
AuthenticationScheme**# 7
}++ 
)++ 
;++ 
options,, 
.,, "
AddSecurityRequirement,, "
(,," #
new,,# &&
OpenApiSecurityRequirement,,' A
{-- 
{.. 	
new// !
OpenApiSecurityScheme// %
{00 
	Reference11 
=11 
new11 
OpenApiReference11 .
{22 
Type33 
=33 
ReferenceType33 &
.33& '
SecurityScheme33' 5
,335 6
Id44 
=44 
JwtBearerDefaults44 (
.44( ) 
AuthenticationScheme44) =
}55 
,55 
Scheme66 
=66 
$str66 
,66  
Name77 
=77 
JwtBearerDefaults77 &
.77& ' 
AuthenticationScheme77' ;
,77; <
In88 
=88 
ParameterLocation88 $
.88$ %
Header88% +
}99 
,99 
new:: 
List:: 
<:: 
string:: 
>:: 
(:: 
):: 
};; 	
}<< 
)<< 
;<< 
}== 
)== 
;== 
builder?? 
.?? 
Services?? 
.?? 
AddDbContext?? 
<?? 
AdhaarApiDbContext?? 0
>??0 1
(??1 2
options??2 9
=>??: <
options@@ 
.@@ 
UseSqlServer@@ 
(@@ 
builder@@ 
.@@ 
Configuration@@ *
.@@* +
GetConnectionString@@+ >
(@@> ?
$str@@? W
)@@W X
)@@X Y
)AA 
;AA 
builderCC 
.CC 
ServicesCC 
.CC 
AddDbContextCC 
<CC "
AdhaarApiAuthDbContextCC 4
>CC4 5
(CC5 6
optionsCC6 =
=>CC> @
optionsDD 
.DD 
UseSqlServerDD 
(DD 
builderDD 
.DD 
ConfigurationDD *
.DD* +
GetConnectionStringDD+ >
(DD> ?
$strDD? W
)DDW X
)DDX Y
)EE 
;EE 
builderGG 
.GG 
ServicesGG 
.GG 
	AddScopedGG 
<GG 
IUserRepositoryGG *
,GG* +
SQLUserRepositoryGG, =
>GG= >
(GG> ?
)GG? @
;GG@ A
builderHH 
.HH 
ServicesHH 
.HH 
	AddScopedHH 
<HH 
ITokenRepositoryHH +
,HH+ ,
TokenRepositoryHH- <
>HH< =
(HH= >
)HH> ?
;HH? @
builderII 
.II 
ServicesII 
.II 
	AddScopedII 
<II 
IImageRepositoryII +
,II+ ,
ImageRepositoryII, ;
>II; <
(II< =
)II= >
;II> ?
builderLL 
.LL 
ServicesLL 
.LL 
AddAutoMapperLL 
(LL 
typeofLL %
(LL% &
AutoMapperprofilesLL& 8
)LL8 9
)LL9 :
;LL: ;
builderNN 
.NN 
ServicesNN 
.NN 
AddIdentityCoreNN  
<NN  !
IdentityUserNN! -
>NN- .
(NN. /
)NN/ 0
.NN0 1
AddRolesNN1 9
<NN9 :
IdentityRoleNN: F
>NNF G
(NNG H
)NNH I
.OO 
AddTokenProviderOO 
<OO &
DataProtectorTokenProviderOO 0
<OO0 1
IdentityUserOO1 =
>OO= >
>OO> ?
(OO? @
$strOO@ L
)OOL M
.PP $
AddEntityFrameworkStoresPP 
<PP "
AdhaarApiAuthDbContextPP 4
>PP4 5
(PP5 6
)PP6 7
.QQ $
AddDefaultTokenProvidersQQ 
(QQ 
)QQ 
;QQ  
builderSS 
.SS 
ServicesSS 
.SS 
	ConfigureSS 
<SS 
IdentityOptionsSS *
>SS* +
(SS+ ,
optionsSS, 3
=>SS4 6
{TT 
optionsUU 
.UU 
PasswordUU 
.UU 
RequireDigitUU !
=UU" #
falseUU$ )
;UU) *
optionsVV 
.VV 
PasswordVV 
.VV 
RequireLowercaseVV %
=VV& '
falseVV( -
;VV- .
optionsWW 
.WW 
PasswordWW 
.WW 
RequireUppercaseWW %
=WW& '
falseWW( -
;WW- .
optionsXX 
.XX 
PasswordXX 
.XX "
RequireNonAlphanumericXX +
=XX, -
falseXX. 3
;XX3 4
optionsYY 
.YY 
PasswordYY 
.YY 
RequiredLengthYY #
=YY$ %
$numYY& '
;YY' (
optionsZZ 
.ZZ 
PasswordZZ 
.ZZ 
RequiredUniqueCharsZZ (
=ZZ) *
$numZZ+ ,
;ZZ, -
}[[ 
)[[ 
;[[ 
builder]] 
.]] 
Services]] 
.]] 
AddAuthentication]] "
(]]" #
JwtBearerDefaults]]# 4
.]]4 5 
AuthenticationScheme]]5 I
)]]I J
.]]J K
AddJwtBearer]]K W
(]]W X
options^^ 
=>^^ 
options__ 
.__ %
TokenValidationParameters__ %
=__& '
new__( +%
TokenValidationParameters__, E
{`` 
ValidateIssueraa 
=aa 
trueaa 
,aa 
ValidateAudiencebb 
=bb 
truebb 
,bb  $
ValidateIssuerSigningKeycc  
=cc! "
truecc# '
,cc' (
ValidateLifetimedd 
=dd 
truedd 
,dd  
ValidIssueree 
=ee 
builderee 
.ee 
Configurationee +
[ee+ ,
$stree, 8
]ee8 9
,ee9 :
ValidAudienceff 
=ff 
builderff 
.ff  
Configurationff  -
[ff- .
$strff. <
]ff< =
,ff= >
IssuerSigningKeygg 
=gg 
newgg  
SymmetricSecurityKeygg 3
(gg3 4
Encodinggg4 <
.gg< =
UTF8gg= A
.ggA B
GetBytesggB J
(ggJ K
builderggK R
.ggR S
ConfigurationggS `
[gg` a
$strgga j
]ggj k
)ggk l
)ggl m
}ii 
)jj 
;jj 
varpp 
apppp 
=pp 	
builderpp
 
.pp 
Buildpp 
(pp 
)pp 
;pp 
ifss 
(ss 
appss 
.ss 
Environmentss 
.ss 
IsDevelopmentss !
(ss! "
)ss" #
)ss# $
{tt 
appuu 
.uu 

UseSwaggeruu 
(uu 
)uu 
;uu 
appvv 
.vv 
UseSwaggerUIvv 
(vv 
)vv 
;vv 
}ww 
appyy 
.yy 
UseHttpsRedirectionyy 
(yy 
)yy 
;yy 
appzz 
.zz 
UseCorszz 
(zz 
optionszz 
=>zz 
{{{ 
options|| 
.|| 
AllowAnyHeader|| 
(|| 
)|| 
;|| 
options}} 
.}} 
AllowAnyMethod}} 
(}} 
)}} 
;}} 
options~~ 
.~~ 
AllowAnyOrigin~~ 
(~~ 
)~~ 
;~~ 
} 
) 
; 
appÅÅ 
.
ÅÅ 
UseAuthentication
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
appÇÇ 
.
ÇÇ 
UseAuthorization
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
appÑÑ 
.
ÑÑ 
MapControllers
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
appÜÜ 
.
ÜÜ 
Run
ÜÜ 
(
ÜÜ 
)
ÜÜ 	
;
ÜÜ	 
®f
wC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\ImageRepository.cs
	namespace		 	
Adhaar		
 
.		 
API		 
.		 
Repositories		 !
.		! "
Implementaion		" /
{

 
public 

class 
ImageRepository  
:! "
IImageRepository# 3
{ 
private 
readonly 
AdhaarApiDbContext +
	dbContext, 5
;5 6
private 
readonly 
ILogger  
<  !
ImageRepository! 0
>0 1
logger2 8
;8 9
private 
readonly 
string 
[  
]  !
exts" &
;& '
private 
const 
string 

folderName '
=( )
$str* 3
;3 4
public 
ImageRepository 
( 
AdhaarApiDbContext 1
	dbContext2 ;
,; <
ILogger< C
<C D
ImageRepositoryD S
>S T
loggerU [
)[ \
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
this 
. 
logger 
= 
logger  
;  !
exts 
= 
new 
string 
[ 
$num 
]  
{! "
$str# *
,* +
$str, 2
,2 3
$str4 :
}; <
;< =
} 	
public 
async 
Task 
< 
ImageAd !
>! "
CreateAsync# .
(. /
ImageAd/ 6
Image7 <
)< =
{ 	
await 
	dbContext 
. 
Images "
." #
AddAsync# +
(+ ,
Image, 1
)1 2
;2 3
await 
	dbContext 
. 
SaveChangesAsync ,
(, -
)- .
;. /
return 
Image 
; 
} 	
public!! 
async!! 
Task!! 
<!! 
ImageAd!! !
?!!! "
>!!" #
DeleteAsync!!$ /
(!!/ 0
Guid!!0 4
id!!5 7
)!!7 8
{"" 	
var## 
existingImage## 
=## 
await##  %
	dbContext##& /
.##/ 0
Images##0 6
.##6 7
FirstOrDefaultAsync##7 J
(##J K
x##K L
=>##M O
x##P Q
.##Q R
Id##R T
.##T U
Equals##U [
(##[ \
id##\ ^
)##^ _
)##_ `
;##` a
if$$ 
($$ 
existingImage$$ 
==$$  
null$$! %
)$$% &
{$$' (
return$$) /
null$$0 4
;$$4 5
}$$6 7
	dbContext&& 
.&& 
Images&& 
.&& 
Remove&& #
(&&# $
existingImage&&$ 1
)&&1 2
;&&2 3
await'' 
	dbContext'' 
.'' 
SaveChangesAsync'' ,
('', -
)''- .
;''. /
return(( 
existingImage((  
;((  !
})) 	
public++ 
async++ 
Task++ 
<++ 
List++ 
<++ 
ImageAd++ &
>++& '
>++' (
GetAllAsync++) 4
(++4 5
)++5 6
{,, 	
return-- 
await-- 
	dbContext-- "
.--" #
Images--# )
.--) *
ToListAsync--* 5
(--5 6
)--6 7
;--7 8
}.. 	
public00 
async00 
Task00 
<00 
ImageAd00 !
?00! "
>00" #
GetByIdAsync00$ 0
(000 1
Guid001 5
id006 8
)008 9
{11 	
return22 
await22 
	dbContext22 "
.22" #
Images22# )
.22) *
FirstOrDefaultAsync22* =
(22= >
x22> ?
=>22@ B
(22C D
x22D E
.22E F
Id22F H
)22H I
.22I J
Equals22J P
(22P Q
id22Q S
)22S T
)22T U
;22U V
}33 	
public55 
async55 
Task55 
<55 
ImageAd55 !
?55! "
>55" #
UpdateAsync55$ /
(55/ 0
Guid550 4
id555 7
,557 8
ImageAd559 @
Image55A F
)55F G
{66 	
var77 
existingImage77 
=77 
await77  %
	dbContext77& /
.77/ 0
Images770 6
.776 7
FirstOrDefaultAsync777 J
(77J K
x77K L
=>77M O
(77P Q
x77Q R
.77R S
Id77S U
)77U V
.77V W
Equals77W ]
(77] ^
id77^ `
)77` a
)77a b
;77b c
if88 
(88 
existingImage88 
==88  
null88! %
)88% &
{88' (
return88) /
null880 4
;884 5
}886 7
existingImage:: 
.:: 
Id:: 
=:: 
id:: !
;::! "
existingImage<< 
.<< 
State<< 
=<<  
Image<<  %
.<<% &
State<<& +
==<<+ -
null<<- 1
?<<1 2
existingImage<<2 ?
.<<? @
State<<@ E
:<<E F
Image<<F K
.<<K L
State<<L Q
;<<Q R
existingImage>> 
.>> 
UID>> 
=>> 
Image>>  %
.>>% &
UID>>& )
==>>) +
null>>+ /
?>>/ 0
existingImage>>0 =
.>>= >
UID>>> A
:>>A B
Image>>B G
.>>G H
UID>>H K
;>>K L
existingImage@@ 
.@@ 
	FirstName@@ #
=@@# $
Image@@$ )
.@@) *
	FirstName@@* 3
==@@3 5
null@@5 9
?@@9 :
existingImage@@: G
.@@G H
	FirstName@@H Q
:@@Q R
Image@@R W
.@@W X
	FirstName@@X a
;@@a b
existingImageBB 
.BB 
LastNameBB "
=BB# $
ImageBB% *
.BB* +
LastNameBB+ 3
==BB4 6
nullBB7 ;
?BB< =
existingImageBB> K
.BBK L
LastNameBBL T
:BBU V
ImageBBW \
.BB\ ]
LastNameBB] e
;BBe f
existingImageDD 
.DD 
AddressDD !
=DD" #
ImageDD$ )
.DD) *
AddressDD* 1
==DD2 4
nullDD5 9
?DD: ;
existingImageDD< I
.DDI J
AddressDDJ Q
:DDR S
ImageDDT Y
.DDY Z
AddressDDZ a
;DDa b
existingImageFF 
.FF 
AgeFF 
=FF 
ImageFF #
.FF# $
AgeFF$ '
==FF' )
nullFF) -
?FF- .
existingImageFF. ;
.FF; <
AgeFF< ?
:FF? @
ImageFF@ E
.FFE F
AgeFFF I
;FFI J
existingImageHH 
.HH 
DistrictHH "
=HH" #
ImageHH# (
.HH( )
DistrictHH) 1
==HH1 3
nullHH3 7
?HH7 8
existingImageHH8 E
.HHE F
DistrictHHF N
:HHN O
ImageHHO T
.HHT U
DistrictHHU ]
;HH] ^
existingImageJJ 
.JJ 
FileJJ 
=JJ 
ImageJJ $
.JJ$ %
FileJJ% )
==JJ) +
nullJJ+ /
?JJ/ 0
existingImageJJ0 =
.JJ= >
FileJJ> B
:JJB C
ImageJJC H
.JJH I
FileJJI M
;JJM N
existingImageLL 
.LL 
LocalityLL "
=LL" #
ImageLL# (
.LL( )
LocalityLL) 1
==LL1 3
nullLL3 7
?LL7 8
existingImageLL8 E
.LLE F
LocalityLLF N
:LLN O
ImageLLO T
.LLT U
LocalityLLU ]
;LL] ^
existingImageNN 
.NN 
PhoneNN 
=NN  
ImageNN  %
.NN% &
PhoneNN& +
==NN+ -
nullNN- 1
?NN1 2
existingImageNN2 ?
.NN? @
PhoneNN@ E
:NNE F
ImageNNF K
.NNK L
PhoneNNL Q
;NNQ R
awaitQQ 
	dbContextQQ 
.QQ 
SaveChangesAsyncQQ ,
(QQ, -
)QQ- .
;QQ. /
returnSS 
existingImageSS  
;SS  !
}UU 	
publicWW 
asyncWW 
TaskWW 
<WW 
stringWW  
?WW  !
>WW! "
OCRWW# &
(WW& '
ImageAdWW' .
requestWW/ 6
)WW6 7
{XX 	
tryYY 
{ZZ 
if\\ 
(\\ 
request\\ 
?\\ 
.\\ 
File\\ !
==\\" $
null\\% )
||\\* ,
request\\- 4
.\\4 5
File\\5 9
.\\9 :
Length\\: @
==\\A C
$num\\D E
)\\E F
{]] 
logger^^ 
.^^ 
LogInformation^^ )
(^^) *
$str^^* =
)^^= >
;^^> ?
return__ 
null__ 
;__  
}`` 
stringbb 
fileNamebb 
=bb  !
requestbb" )
.bb) *
Filebb* .
.bb. /
FileNamebb/ 7
;bb7 8
stringcc 
filePathcc 
=cc  !
Pathcc" &
.cc& '
Combinecc' .
(cc. /

folderNamecc/ 9
,cc9 :
fileNamecc; C
)ccC D
;ccD E
stringdd 
extdd 
=dd 
Pathdd !
.dd! "
GetExtensiondd" .
(dd. /
filePathdd/ 7
)dd7 8
;dd8 9
ifee 
(ee 
!ee 
extsee 
.ee 
Containsee "
(ee" #
extee# &
)ee& '
)ee' (
{ff 
loggergg 
.gg 
LogInformationgg )
(gg) *
$strgg* C
)ggC D
;ggD E
returnhh 
nullhh 
;hh  
}ii 
usingnn 
(nn 
varnn 

fileStreamnn %
=nn& '
newnn( +

FileStreamnn, 6
(nn6 7
filePathnn7 ?
,nn? @
FileModennA I
.nnI J
CreatennJ P
)nnP Q
)nnQ R
{oo 
awaitpp 
requestpp !
.pp! "
Filepp" &
.pp& '
CopyToAsyncpp' 2
(pp2 3

fileStreampp3 =
)pp= >
;pp> ?
}qq 
booltt 
isValidLicensett #
=tt$ %
Licensett& -
.tt- .
IsValidLicensett. <
(tt< =
$str	tt= ã
)
ttã å
;
ttå ç
ifvv 
(vv 
!vv 
isValidLicensevv #
)vv# $
{ww 
loggerxx 
.xx 
LogInformationxx )
(xx) *
$strxx* <
)xx< =
;xx= >
returnyy 
nullyy 
;yy  
}zz 
var}} 
ocr}} 
=}} 
new}} 
IronTesseract}} +
(}}+ ,
)}}, -
;}}- .
using
ÅÅ 
(
ÅÅ 
var
ÅÅ 
ocrInput
ÅÅ #
=
ÅÅ$ %
new
ÅÅ& )
OcrInput
ÅÅ* 2
(
ÅÅ2 3
)
ÅÅ3 4
)
ÅÅ4 5
{
ÇÇ 
ocrInput
ÉÉ 
.
ÉÉ 
AddImage
ÉÉ %
(
ÉÉ% &
filePath
ÉÉ& .
)
ÉÉ. /
;
ÉÉ/ 0
ocrInput
ÑÑ 
.
ÑÑ 
EnhanceResolution
ÑÑ .
(
ÑÑ. /
)
ÑÑ/ 0
;
ÑÑ0 1
ocrInput
ÖÖ 
.
ÖÖ 
DeNoise
ÖÖ $
(
ÖÖ$ %
)
ÖÖ% &
;
ÖÖ& '
var
áá 
	ocrResult
áá !
=
áá" #
ocr
áá$ '
.
áá' (
Read
áá( ,
(
áá, -
ocrInput
áá- 5
)
áá5 6
;
áá6 7
return
ãã 
	ocrResult
ãã $
.
ãã$ %
Text
ãã% )
;
ãã) *
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
logger
êê 
.
êê 
LogInformation
êê %
(
êê% &
ex
êê& (
.
êê( )
Message
êê) 0
)
êê0 1
;
êê1 2
return
ëë 
null
ëë 
;
ëë 
}
íí 
}
ìì 	
}
îî 
}ïï π7
yC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\SQLUserRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
Implementaion" /
{ 
public 

class 
SQLUserRepository "
:" #
IUserRepository# 2
{		 
private

 
readonly

 
AdhaarApiDbContext

 +
	dbContext

, 5
;

5 6
public 
SQLUserRepository  
(  !
AdhaarApiDbContext! 3
	dbContext4 =
)= >
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
< 
User 
> 
CreateAsync  +
(+ ,
User, 0
user1 5
)5 6
{ 	
await 
	dbContext 
. 
Users !
.! "
AddAsync" *
(* +
user+ /
)/ 0
;0 1
await 
	dbContext 
. 
SaveChangesAsync ,
(, -
)- .
;. /
return 
user 
; 
} 	
public 
async 
Task 
< 
User 
? 
>  
DeleteAsync! ,
(, -
string- 3
id4 6
)6 7
{ 	
var 
existingUser 
= 
await $
	dbContext% .
.. /
Users/ 4
.4 5
FirstOrDefaultAsync5 H
(H I
xI J
=>K M
xN O
.O P
IdP R
.R S
EqualsS Y
(Y Z
idZ \
)\ ]
)] ^
;^ _
if 
( 
existingUser 
== 
null  $
)$ %
{& '
return( .
null/ 3
;3 4
}5 6
	dbContext 
. 
Users 
. 
Remove "
(" #
existingUser# /
)/ 0
;0 1
await   
	dbContext   
.   
SaveChangesAsync   ,
(  , -
)  - .
;  . /
return!! 
existingUser!! 
;!!  
}## 	
public%% 
async%% 
Task%% 
<%% 
List%% 
<%% 
User%% #
>%%# $
>%%$ %
GetAllAsync%%& 1
(%%1 2
)%%2 3
{&& 	
return'' 
await'' 
	dbContext'' "
.''" #
Users''# (
.''( )
Include'') 0
(''0 1
a''1 2
=>''2 4
a''4 5
.''5 6
Image''6 ;
)''; <
.''< =
ToListAsync''= H
(''H I
)''I J
;''J K
}(( 	
public++ 
async++ 
Task++ 
<++ 
User++ 
?++ 
>++  
GetByIdAsync++! -
(++- .
string++. 4
id++5 7
)++7 8
{,, 	
return.. 
await.. 
	dbContext.. "
..." #
Users..# (
...( )
Include..) 0
(..0 1
a..1 2
=>..2 4
a..4 5
...5 6
Image..6 ;
)..; <
...< =
FirstOrDefaultAsync..= P
(..P Q
x..Q R
=>..S U
(..V W
x..W X
...X Y
Id..Y [
)..[ \
...\ ]
Equals..] c
(..c d
id..d f
)..f g
)..g h
;..h i
}00 	
public33 
async33 
Task33 
<33 
User33 
?33 
>33  
UpdateAsync33! ,
(33, -
string33- 3
id334 6
,336 7
User338 <
user33= A
)33A B
{44 	
var55 
existingUser55 
=55 
await55 $
	dbContext55% .
.55. /
Users55/ 4
.554 5
FirstOrDefaultAsync555 H
(55H I
x55I J
=>55K M
(55N O
x55O P
.55P Q
Id55Q S
)55S T
.55T U
Equals55U [
(55[ \
id55\ ^
)55^ _
)55_ `
;55` a
if66 
(66 
existingUser66 
==66 
null66  $
)66$ %
{66& '
return66( .
null66/ 3
;663 4
}665 6
existingUser88 
.88 
Id88 
=88 
id88  
;88  !
existingUser99 
.99 
UserName99 !
=99" #
user99$ (
.99( )
UserName99) 1
==992 4
null995 9
?99: ;
existingUser99< H
.99H I
UserName99I Q
:99R S
user99T X
.99X Y
UserName99Y a
;99a b
existingUser:: 
.:: 
Email:: 
=::  
user::! %
.::% &
Email::& +
==::, .
null::/ 3
?::4 5
existingUser::6 B
.::B C
Email::C H
:::I J
user::K O
.::O P
Email::P U
;::U V
existingUser;; 
.;; 
PhoneNumber;; $
=;;% &
user;;' +
.;;+ ,
PhoneNumber;;, 7
==;;8 :
null;;; ?
?;;@ A
existingUser;;B N
.;;N O
PhoneNumber;;O Z
:;;[ \
user;;] a
.;;a b
PhoneNumber;;b m
;;;m n
existingUser<< 
.<< 
PasswordHash<< %
=<<& '
user<<( ,
.<<, -
PasswordHash<<- 9
==<<: <
null<<= A
?<<B C
existingUser<<D P
.<<P Q
PasswordHash<<Q ]
:<<^ _
user<<` d
.<<d e
PasswordHash<<e q
;<<q r
existingUser== 
.== 
ImageId==  
===  !
user==! %
.==% &
ImageId==& -
====- /
null==/ 3
?==4 5
existingUser==6 B
.==B C
ImageId==C J
:==K L
user==M Q
.==Q R
ImageId==R Y
;==Y Z
existingUser>> 
.>> 
Image>> 
=>> 
user>> #
.>># $
Image>>$ )
==>>) +
null>>+ /
?>>0 1
existingUser>>2 >
.>>> ?
Image>>? D
:>>E F
user>>G K
.>>K L
Image>>L Q
;>>Q R
awaitCC 
	dbContextCC 
.CC 
SaveChangesAsyncCC ,
(CC, -
)CC- .
;CC. /
returnDD 
existingUserDD 
;DD  
}FF 	
}GG 
}HH Û
wC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Implementaion\TokenRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
Implementaion" /
{		 
public

 

class

 
TokenRepository

  
:

! "
ITokenRepository

# 3
{ 
private 
readonly 
IConfiguration '
configuration( 5
;5 6
public 
TokenRepository 
( 
IConfiguration -
configuration. ;
); <
{ 	
this 
. 
configuration 
=  
configuration! .
;. /
} 	
public 
string 
CreateJWTToken $
($ %
IdentityUser% 1
user2 6
,6 7
List8 <
<< =
string= C
>C D
rolesE J
)J K
{ 	
var 
claims 
= 
new 
List !
<! "
Claim" '
>' (
{ 
new 
Claim 
( 

ClaimTypes $
.$ %
Email% *
,* +
user, 0
.0 1
Email1 6
)6 7
} 
; 
foreach 
( 
var 
role 
in  
roles! &
)& '
{ 
claims 
. 
Add 
( 
new 
Claim $
($ %

ClaimTypes% /
./ 0
Role0 4
,4 5
role6 :
): ;
); <
;< =
} 
var 
key 
= 
new  
SymmetricSecurityKey .
(. /
Encoding/ 7
.7 8
UTF88 <
.< =
GetBytes= E
(E F
configurationF S
[S T
$strT ]
]] ^
)^ _
)_ `
;` a
var   
credentials   
=   
new   !
SigningCredentials  " 4
(  4 5
key  5 8
,  8 9
SecurityAlgorithms  : L
.  L M

HmacSha256  M W
)  W X
;  X Y
var"" 
token"" 
="" 
new"" 
JwtSecurityToken"" ,
("", -
configuration## 
[## 
$str## *
]##* +
,##+ ,
configuration$$ 
[$$ 
$str$$ ,
]$$, -
,$$- .
claims%% 
,%% 
expires&& 
:&& 
DateTime&& !
.&&! "
Now&&" %
.&&% &

AddMinutes&&& 0
(&&0 1
$num&&1 3
)&&3 4
,&&4 5
signingCredentials'' "
:''" #
credentials''$ /
))) 
;)) 
return++ 
new++ #
JwtSecurityTokenHandler++ .
(++. /
)++/ 0
.++0 1

WriteToken++1 ;
(++; <
token++< A
)++A B
;++B C
},, 	
}-- 
}.. §
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\IImageRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
IImageRepository %
{ 
Task 
< 
List 
< 
ImageAd 
> 
> 
GetAllAsync '
(' (
)( )
;) *
Task		 
<		 
ImageAd		 
?		 
>		 
GetByIdAsync		 #
(		# $
Guid		$ (
id		) +
)		+ ,
;		, -
Task 
< 
ImageAd 
> 
CreateAsync !
(! "
ImageAd" )
Image* /
)/ 0
;0 1
Task 
< 
ImageAd 
? 
> 
UpdateAsync "
(" #
Guid# '
id( *
,* +
ImageAd, 3
Image4 9
)9 :
;: ;
Task 
< 
ImageAd 
? 
> 
DeleteAsync "
(" #
Guid# '
id( *
)* +
;+ ,
Task 
< 
string 
? 
> 
OCR 
( 
ImageAd !
request" )
)) *
;* +
} 
} ˛
tC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\ITokenRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
ITokenRepository %
{ 
string 
CreateJWTToken 
( 
IdentityUser *
user+ /
,/ 0
List1 5
<5 6
string6 <
>< =
roles> C
)C D
;D E
} 
}		 ÷

sC:\Users\Nath\source\repos\New folder\New folder (2)\AdhaarApi\Adhaar.API\Repositories\Interface\IUserRepository.cs
	namespace 	
Adhaar
 
. 
API 
. 
Repositories !
.! "
	Interface" +
{ 
public 

	interface 
IUserRepository $
{ 
Task 
< 
List 
< 
User 
> 
> 
GetAllAsync $
($ %
)% &
;& '
Task 
< 
User 
? 
> 
GetByIdAsync  
(  !
string! '
id( *
)* +
;+ ,
Task 
< 
User 
> 
CreateAsync 
( 
User #
user$ (
)( )
;) *
Task 
< 
User 
? 
> 
UpdateAsync 
(  
string  &
id' )
,) *
User+ /
user0 4
)4 5
;5 6
Task 
< 
User 
? 
> 
DeleteAsync 
(  
string  &
id' )
)) *
;* +
} 
} 